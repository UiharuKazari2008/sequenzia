const cacheName="v1";self.addEventListener("install",e=>{console.log("Service Worker: Installed")});self.addEventListener("activate",e=>{console.log("Service Worker: Activated");e.waitUntil(async function(){if(self.registration.navigationPreload){await self.registration.navigationPreload.enable()}caches.keys().then(cacheNames=>{return Promise.all(cacheNames.map(cache=>{if(cache!==cacheName){console.log("Service Worker: Clearing Old Cache");return caches.delete(cache)}}))})}())});addEventListener("fetch",event=>{console.log(`Service Worker: Fetching`);event.respondWith(async function(){const cachedResponse=await caches.match(event.request);if(cachedResponse)return cachedResponse;const response=await event.preloadResponse;if(response)return response;return fetch(event.request)}())});