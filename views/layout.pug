- let enableManageTools = false
- let enableUploadTools = false
- full_title_post = full_title
doctype html
if (write_channels && write_channels.length > 0)
    - enableUploadTools = true
    //- /channel=([^&]+)/.exec(req_uri)[1].split("+").forEach((ch) => { if (write_channels.indexOf(ch) !== -1 ){ enableUploadTools = true }})
if (manage_channels && manage_channels.length > 0)
    - enableManageTools = true
if (req_uri)
    - params = new URLSearchParams(req_uri.split('?')[1])
    - path = '/' + req_uri.split('?')[0].split('/').pop()
html
    head
        if (results && results.length > 0)
            if (full_title && params.has('displayname') && params.getAll('displayname')[0] !== '*')
                - _display_nice_name = results[0].history.name
                if (full_title.split(' / ').pop().toLowerCase().trim() !== _display_nice_name.toLowerCase().trim())
                    - full_title_post = full_title.split(' / ').reverse().splice(1).reverse().join(' / ') + ' / ' + _display_nice_name
            meta(name='result', content=0)
            if (!title || title === '')
                if (params && (params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))) || params.getAll('sort')[0] === 'random')
                    if (results && results.length === 1)
                        title= `${webconf.site_name} - Item Details`
                    else if (search_prev)
                        if (params && path === '/artists')
                            title= `${webconf.site_name} - Artist Search`
                        else if (params && search_prev.startsWith('id:st'))
                            title= `${webconf.site_name} - Related Items`
                        else
                            title= `${webconf.site_name} - Search`
                    else if (params && path === '/artists')
                        title= `${webconf.site_name} - Artists`
                    else if (params && params.getAll('sort')[0] === 'random')
                        title= `${webconf.site_name} - I'm Feeling Lucky`
                    else if (params && (params.getAll('sort')[0] === 'id' || params.getAll('sort')[0] === 'eid') && path === '/files')
                        title= `${webconf.site_name} - File Stream`
                    else if (params && (params.getAll('sort')[0] === 'id' || params.getAll('sort')[0] === 'eid'))
                        title= `${webconf.site_name} - Photo Stream`
                    else if (params.has('color'))
                        title= `${webconf.site_name} - Colour Search`
                    else if (params.has('displayname'))
                        title= `${webconf.site_name} - History`
                    else
                        title= `${webconf.site_name} - Recent`
                else
                    title=`${webconf.site_name}`

            else
                title= `${webconf.site_name} - ${full_title_post}`
        else if (randomImage)
            meta(name='result', content=0)
            title=`${webconf.site_name}`
        else
            meta(name='result', content=10)
            title= `${webconf.site_name} - No Results`

    body(id="page-top" class=showSidebar1)
        div.background-image.overlay
        div.background-image.bg-blur

        div(id="wrapper")
            div(id="content-wrapper", class="d-flex flex-column")
                div(id="content")
                    if (params.has('ratio'))
                        - ratioValues = params.getAll('ratio')[0].split('-')
                        if (ratioValues.length > 1)
                            - sliderDefaults = `[${ratioValues[0]},${ratioValues[1]}]`
                        else
                            - sliderDefaults = '[0,3]'
                    else
                        - sliderDefaults = '[0,3]'
                    if (params.has('color'))
                        - colorsRGB = params.getAll('color')[0].split('%3A')
                        if (colorsRGB.length >= 3)
                            - colorRValue = colorsRGB[0].split('-');
                            - colorGValue = colorsRGB[1].split('-');
                            - colorBValue = colorsRGB[2].split('-');
                            if (colorRValue.length === 2 && colorGValue.length === 2 && colorBValue.length === 2)
                                - sliderColorsDefaults = [`[${colorRValue[0]},${colorRValue[1]}]`, `[${colorGValue[0]},${colorGValue[1]}]`, `[${colorBValue[0]},${colorBValue[1]}]`]
                            else if (colorRValue.length === 1 && colorGValue.length === 1 && colorBValue.length === 1)
                                if (colorsRGB.length >= 4)
                                    - colorStep = parseInt(colorsRGB[3]);
                                if (isNaN(colorStep))
                                    - colorStep = 16
                                - sliderColorsDefaults = [`[${parseInt(colorRValue[0]) - colorStep},${parseInt(colorRValue[0]) + colorStep}]`,`[${parseInt(colorGValue[0]) - colorStep},${parseInt(colorGValue[0]) + colorStep}]`,`[${parseInt(colorBValue[0]) - colorStep},${parseInt(colorBValue[0]) + colorStep}]`,]
                                - simularColor = `rgb(${colorRValue[0]}, ${colorGValue[0]}, ${colorBValue[0]})`
                                - simularColorCommand = `${colorRValue[0]}:${colorGValue[0]}:${colorBValue[0]}`
                            else
                                - sliderColorsDefaults = ['[0,255]', '[0,255]', '[0,255]']
                        else
                            - sliderColorsDefaults = ['[0,255]', '[0,255]', '[0,255]']
                    else
                        - sliderColorsDefaults = ['[0,255]', '[0,255]', '[0,255]']
                    nav#topbar.navbar.navbar-expand.navbar-light.topbar.mb-2.bg-topbar-primary.fixed-top.ready-to-scroll
                        //ul.navbar-nav.d-md-none.text-primary
                        //    li.nav-item.page-title.no-arrow.only-standalone.mr-1
                        //        a.nav-item.btn.btn-navigation.pl-0(title="Go Back" href='#_' role='button' accesskey="," onClick="history.go(-1); return false;")
                        //            i.fas.fa-chevron-left
                        ul.navbar-nav.d-md-none.text-primary
                            li.nav-item.page-title.no-arrow
                                a.nav-item.btn.btn-navigation.pl-0.pr-1.align-middle(title="Menu" href='#_' role='button' accesskey="," id="sidebarToggleTop2" onclick="scrollToTop(); toggleMenu(); return false;" )
                                    i.fas.fa-compass
                        //ul.navbar-nav.text-primary.d-none.d-md-block(style="margin-right: 0.65em;")
                        //    li.nav-item.page-title.no-arrow(style='overflow: visible;')
                        //        .btn-group.page-navigator
                        //            if (params && ((((params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))) && params.getAll('sort')[0] === 'random') || params.getAll('sort')[0] === 'random') && !search_prev))
                        //                a.btn.bg-translucent.border-0.btn-navigation.top-navigation(title="Go Back" href='#_' role='button' accesskey="," onClick="history.go(-1); return false;")
                        //                    i.fas.fa-arrow-left
                        //                a.btn.bg-translucent.border-0.btn-navigation.top-navigation(title="Reload Page" href='#_' onClick="getNewContent([],[]); return false;")
                        //                    if (params && params.getAll('sort')[0] === 'random')
                        //                        i.fa.fa-dice
                        //                    else
                        //                        i.fa.fa-sync
                        //            else if ((typeof (prevurl) !== 'undefined' && prevurl !== 'NA') || (typeof (nexturl) !== 'undefined' && nexturl !== 'NA'))
                        //                if (prevurl !== 'NA')
                        //                    a.btn.bg-translucent.border-0.btn-navigation.top-navigation(title="Go Back" href='#_' role='button' accesskey="," onClick="history.go(-1); return false;")
                        //                        i.fa.fa-chevron-left
                        //                        i.fa.fa-arrow-left
                        //                    a.btn.bg-translucent.border-0.btn-navigation.top-navigation(title="Previous Page" href=`#_` onclick=`getNewContent([], [${prevurl}]); return false;`)
                        //                        i.fa.fa-arrow-left
                        //                else
                        //                    a.btn.bg-translucent.border-0.btn-navigation.top-navigation(title="Go Back" href='#_' role='button' accesskey="," onClick="history.go(-1); return false;")
                        //                        i.fas.fa-arrow-left
                        //                a.btn.bg-translucent.border-0.btn-navigation.top-navigation(title="Refresh Page" href='#_' onClick=`getNewContent([], []); return false;`)
                        //                    i.fa.fa-sync
                        //                if (nexturl !== 'NA')
                        //                    a.btn.bg-translucent.border-0.btn-navigation.top-navigation(title="Next Page" href=`#_` onclick=`getNewContent([], [${nexturl}]); return false;`)
                        //                        i.fa.fa-arrow-right
                        //            else
                        //                a.btn.bg-translucent.border-0.btn-navigation.top-navigation(title="Go Back" href='#_' role='button' accesskey="," onClick="history.go(-1); return false;")
                        //                    i.fas.fa-arrow-left
                        //                a.btn.bg-translucent.border-0.btn-navigation.top-navigation(title="Refresh Page" href='#_' onClick="getNewContent([], []); return false;")
                        //                    i.fa.fa-sync
                        //            div.dropdown.page-navigator-list-btn.btn-group
                        //                a.btn.bg-translucent.border-0.btn-navigation.top-navigation.dropdown.no-arrow(title="Page List" href='#_' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' aria-labelledby="navPagesMenu").disabled
                        //                    i.fas.fa-ellipsis-h.align-middle
                        ul.navbar-nav.text-primary.text-ellipsis
                            li#topAddressBarInfo.nav-item.text-right.d-none.d-md-block.page-title.text-primary.mr-1(onclick=`showAddressInput(); return false;`)
                                if (!title || title === '')
                                    if (params && (params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))))
                                        if (results && results.length === 1 && params && params.has('search'))
                                            i.fas.fa-photo-video.mr-2
                                            span.text-uppercase Item Details
                                        else if (search_prev)
                                            if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                i.fas.fa-star.mr-2
                                            else if (search_prev && search_prev.startsWith('id:st'))
                                                i.fas.mr-2.fa-asterisk
                                            else
                                                i.fas.fa-search.mr-2
                                            if (params && path === '/artists')
                                                span.text-uppercase Artist Search
                                            else if (params && search_prev.startsWith('id:st'))
                                                span.text-uppercase Related Items
                                            else
                                                span.text-uppercase Search
                                        else if (params && path === '/artists')
                                            i.fas.fa-atlas.mr-2
                                            span(title='Global Artist Search').text-uppercase Artists
                                        else if (params && params.getAll('sort')[0] === 'random')
                                            if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                i.fas.fa-star.mr-2
                                            else
                                                i.fas.fa-dice.mr-2
                                            span(title='Random selection of items from the database').text-uppercase I'm Feeling Lucky
                                        else if (params && params.getAll('sort')[0] === 'fav')
                                            if (webconfig && webconfig.pinned_user && params && params.getAll('pins')[0] === webconfig.pinned_user)
                                                i.fas.fa-thumbtack.mr-2
                                                span(title='Favorited Images by the moderation team').text-uppercase Pinned
                                            else
                                                i.fas.fa-star.mr-2
                                                span(title='Favorited Images').text-uppercase Favorites
                                        else if (params && (params.getAll('sort')[0] === 'id' || params.getAll('sort')[0] === 'eid'))
                                            if (webconfig && webconfig.pinned_user && params && params.getAll('pins')[0] === webconfig.pinned_user)
                                                i.fas.fa-thumbtack.mr-2
                                                span(title='Favorited Images by the moderation team').text-uppercase Pinned
                                            else if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                i.fas.fa-star.mr-2
                                                span(title='Favorited Images').text-uppercase Favorites
                                            else
                                                i.fas.fa-stream.mr-2
                                                if (path === '/files')
                                                    span(title='Files in order of upload').text-uppercase File Stream
                                                else
                                                    span(title='Images in order of upload').text-uppercase Photo Stream
                                        else if (params.has('color'))
                                            if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                i.fas.fa-star.mr-2
                                            else
                                                i.fas.mr-2.fa-swatchbook
                                            span(title='Images by there averaged colour').text-uppercase Colour search
                                        else if (params.has('displayname'))
                                            if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                i.fas.fa-star.mr-2
                                            else
                                                i.fas.mr-2.fa-history
                                            span(title='History for ' + params.getAll('displayname')[0]).text-uppercase History
                                        else
                                            if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                i.fas.fa-star.mr-2
                                            else
                                                i.fas.fa-clock.mr-2
                                            span(title='Chronologically Feed of Images').text-uppercase Recent
                                    else if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                        i.fas.fa-star.mr-2
                                        span.text-uppercase #{full_title_post}
                                    else
                                        if (params && masterCount || results)
                                            i.fas.fa-home.mr-2
                                            span.d-none.d-sm-inline-block Home
                                        else
                                            i.fas.fa-question.mr-2
                                            span No Results
                                else
                                    if (active_svr)
                                        - servericon = discord.servers.list.filter(e => e.serverid === active_svr).map(e => e.icon)
                                        if (servericon && servericon.length > 0)
                                            - servericon = servericon.pop()
                                        else
                                            - servericon = null
                                    div#titleIcon(class=((servericon && full_title && full_title_post.includes(' / ')) ? 'icon-avalible' : '')).d-inline-flex
                                        if (search_prev && search_prev.startsWith('id:st'))
                                            i.fas.mr-2.fa-asterisk
                                        else if (search_prev)
                                            i.fas.fa-search.mr-2
                                        else if (params && path === '/artists')
                                            i.fas.fa-atlas.mr-2
                                        else if (params && params.getAll('sort')[0] === 'random')
                                            i.fas.fa-dice.mr-2
                                        else if (params && (params.has('displayname') || params.getAll('history')[0] === 'only'))
                                            i.fas.fa-history.mr-2
                                        else if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                            i.fas.fa-star.mr-2
                                        else if (params && (params.getAll('sort')[0] === 'id' || params.getAll('sort')[0] === 'eid'))
                                            i.fas.fa-stream.mr-2
                                        else if (active_icon)
                                            i.fas.mr-2(class=active_icon)
                                        else if (params && path === '/gallery')
                                            i.fas.fa-images.mr-2
                                        else if (params && path === '/files')
                                            i.fas.fa-folder.mr-2
                                        else if (params && path === '/cards')
                                            i.fas.fa-envelope.mr-2
                                    if (full_title && full_title_post.includes(' / '))
                                        #titleExtraStyleAdjustment.d-inline-flex
                                        div#titleExtra.d-inline-flex
                                            if (servericon)
                                                img.pr-1.align-self-center.rounded-circle(src=servericon style='height: 1.8rem;')
                                                //i.fas.fa-chevron-right.pr-1.align-self-baseline
                                            each tp in full_title_post.split(' / ').reverse().splice(1).reverse()
                                                span.pr-1.align-self-baseline.text-uppercase #{tp}
                                                i.fas.fa-chevron-right.pr-1.align-self-baseline
                                        div#titleMain.d-inline
                                            span.align-self-baseline.text-uppercase #{full_title_post.split(' / ').pop()}
                                        script#setTitleExtraStyleAdjustment.
                                            extratitlewidth = $('#titleExtra').width() + 10
                                            if (extratitlewidth > 20) {
                                                $('#titleExtraStyleAdjustment').html(`<style>@keyframes slidetextextraout { from {max-width: 0;} to {max-width: ${extratitlewidth}px;} }; @keyframes slidetextextrain { from {max-width: ${extratitlewidth}px; to {max-width: 0;}} };</style>`);
                                            }
                                            $('#setTitleExtraStyleAdjustment').remove();
                                    else
                                        span.text-uppercase #{full_title_post}
                            li#topAddressBarInput.nav-item.text-right.mr-1.d-none.d-md-flex.text-primary.page-title.hidden
                                form.align-self-center.navbar-search(onsubmit="return false;" method="post" )
                                    .input-group
                                        .input-group-prepend
                                            a.btn.input-group-text.bg-transparent.border-0.pl-0(onclick=`hideAddressInput(); return false;`)
                                                i.fas.fa-map.align-middle.nav-item
                                        input#directURI.text-white.form-control.bg-translucent.border-0.small.w-50.rounded-left(type='text' placeholder='Go to Location' aria-label='Go to Location')
                                        input(type="submit" style="display: none" onclick=`getNewURIContent("directURI"); return false;`)
                                        .input-group-append
                                            a.btn.input-group-text.bg-translucent.border-0(title="Go to..." href='#_', onclick=`getNewURIContent("directURI"); return false;`)
                                                i.fas.fa-arrow-right.fa-sm.align-middle.nav-item
                        if (results && params && !(results.length === 1 && path === '/gallery' && search_prev && search_prev !== ''))
                            ul.navbar-nav.text-primary
                                li.nav-item.text-right.d-none.d-md-block.page-title.text-primary.ml-2
                                    a(data-toggle='collapse' href='#_' role='button' aria-expanded='false' data-target='#showResultsWarningsFull')
                                        span.badge.push-up.p-1(class=`badge-${(nsfwEnabled || (params && params.getAll('nsfw')[0] === 'true')) ? 'danger' : 'primary'}`)
                                            i.fas.pl-1.pr-1.fa-info
                            ul.navbar-nav.text-primary
                                li#totalCount.nav-item.text-right.page-title.text-primary.ml-1
                                    span.badge.badge-danger.push-up.p-1
                                        i.fas.fa-calculator
                        div.mr-auto
                        li#editBtns.nav-item.no-arrow(style='display: inherit')
                            if (results && (results.length > 0 || !(results.length === 1 && path === '/gallery' && search_prev && search_prev !== '')))
                                .btn-group
                                if (results && (params && (path === '/gallery' || path === '/files' || path === '/cards')))
                                    if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                        a.navbar-item.btn.btn-fav(title="Show All Results" href='#_' onclick=`getNewContent(['offset', 'pins'], [])` role='button').d-none.d-xl-block
                                            i.fas.fa-star.align-middle
                                    else
                                        a.navbar-item.btn.btn-fav(title="Show Only Favorites" href='#_' onclick=`getNewContent(['offset'], [['pins', 'true']])` role='button').d-none.d-xl-block
                                            i.fas.fa-star.align-middle
                                    if (params && !((params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))) && params.getAll('sort')[0] === 'random'))
                                        if (params && params.getAll('sort')[0] === 'random')
                                            a.navbar-item.btn.btn-fav(title="Show Sorted Results" href='#_' onclick=`getNewContent(['offset', 'sort'], [])` role='button').d-none.d-xl-block
                                                i.fas.fa-dice.align-middle.pr-1
                                        else
                                            a.navbar-item.btn.btn-fav(title="Randomize Results" href='#_' onclick=`getNewContent(['offset'], [['sort', 'random']])` role='button').d-none.d-xl-block
                                                i.fas.fa-dice.align-middle.pr-1
                                    if (!(params.has('album') || params.has('album_name')))
                                        a.navbar-item.btn.btn-fav(title="Show Artists from here" href='#_' onclick=`getNewContent([], [${(params.has('channel')) ? '["channel", "' + params.getAll('channel')[0] + '"]' : (params.has('folder')) ? '["folder", "' + params.getAll('folder')[0] + '"]' : ''}], '/artists', true); return false;`).d-none.d-xl-block
                                            i.fas.fa-address-book.align-middle.pr-1
                                if (enableUploadTools && (params && (path === '/gallery' || path === '/files' || path === '/cards')))
                                    div.dropdown
                                        if (write_channels && write_channels.length > 0)
                                            if (active_ch && params && !(params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))))
                                                a.nav-item.dropdown.no-arrow.btn.btn-switchmode.d-none.d-xxl-inline-block(title="Upload File(s)" href='#_' onclick='selectedUploadChannel("' + active_ch + '", "' + active_svr + '", "' + full_title + '", "uploadModel", false); displayUploadModel(); return false;')
                                                    i.fas.fa-upload.align-middle
                                            else
                                                a.nav-item.dropdown.no-arrow.btn.btn-switchmode.d-none.d-xxl-inline-block(title="Upload File(s)" href='#_' onclick='displayUploadModel(); return false;')
                                                    i.fas.fa-upload.align-middle
                                        if (manage_channels && manage_channels.length > 0)
                                            if (active_ch && params && !(params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))))
                                                a.nav-item.dropdown.no-arrow.btn.btn-switchmode.d-none.d-xxl-inline-block(title="Send Text Message" href='#_' onclick='selectedUploadChannel("' + active_ch + '", "' + active_svr + '", "' + full_title + '", "writeModel", false); displayMessageModel(0); return false;')
                                                    i.fas.fa-edit.align-middle
                                            else
                                                a.nav-item.dropdown.no-arrow.btn.btn-switchmode.d-none.d-xxl-inline-block( title="Send Text Message" href='#_' onclick='displayMessageModel(0); return false;')
                                                    i.fas.fa-edit.align-middle
                                        if (download && download.length > 0)
                                            if (active_ch && params && !(params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))))
                                                a.nav-item.dropdown.no-arrow.btn.btn-switchmode.d-none.d-xxl-inline-block(title="Download File from URL" href='#_' onclick='selectedUploadChannel("' + active_ch + '",  "' + active_svr + '", "' + full_title + '", "writeModel", true); displayMessageModel(1); return false;')
                                                    i.fas.fa-cloud-download-alt.align-middle
                                            else
                                                a.nav-item.dropdown.no-arrow.btn.btn-switchmode.d-none.d-xxl-inline-block(title="Download File from URL" href='#_' onclick='displayMessageModel(1); return false;')
                                                    i.fas.fa-cloud-download-alt.align-middle
                                        a#uploadOptionsMenu.nav-item.dropdown.no-arrow.btn.btn-switchmode.d-xxl-none(title="Upload Content" href='#_' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' aria-labelledby="uploadMenu")
                                            i.fas.fa-upload.align-middle
                                        .dropdown-menu.dropdown-menu-right.shadow.animated--grow-in.d-xxl-none(aria-labelledby="uploadMenu")
                                            if (write_channels && write_channels.length > 0)
                                                if (active_ch && params && !(params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))))
                                                    a.dropdown-item(title="Upload File" href='#_' onclick='selectedUploadChannel("' + active_ch + '", "' + active_svr + '", "' + full_title + '", "uploadModel", false); displayUploadModel(); return false;')
                                                        i.fas.fa-upload.pr-2
                                                        | Upload File
                                                else
                                                    a.dropdown-item(title="Upload File" href='#_' onclick='displayUploadModel(); return false;')
                                                        i.fas.fa-upload.pr-2
                                                        | Upload File
                                            if (manage_channels && manage_channels.length > 0)
                                                if (active_ch && params && !(params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))))
                                                    a.dropdown-item(title="Send Message" href='#_' onclick='selectedUploadChannel("' + active_ch + '", "' + active_svr + '", "' + full_title + '", "writeModel", false); displayMessageModel(0); return false;')
                                                        i.fas.fa-edit.pr-2
                                                        | Send Message
                                                else
                                                    a.dropdown-item(title="Send Message" href='#_' onclick='displayMessageModel(0); return false;')
                                                        i.fas.fa-edit.pr-2
                                                        | Send Message
                                            if (download && download.length > 0)
                                                if (active_ch && params && !(params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))))
                                                    a.dropdown-item(title="Download File from URL" href='#_' onclick='selectedUploadChannel("' + active_ch + '",  "' + active_svr + '", "' + full_title + '", "writeModel", true); displayMessageModel(1); return false;')
                                                        i.fas.fa-cloud-download-alt.pr-2
                                                        | Download URL
                                                else
                                                    a.dropdown-item(title="Download File from URL" href='#_' onclick='displayMessageModel(1); return false;')
                                                        i.fas.fa-cloud-download-alt.pr-2
                                                        | Download URL
                                if (results && (params && (path === '/gallery' || path === '/files' || path === '/cards')))
                                    if (enableManageTools && results.length > 1)
                                        a.navbar-item.btn.btn-admin(title="Select Items" href='#_' onclick='enableGallerySelect(); return false;').d-none.d-lg-block
                                            i.fas.fa-check-circle.align-middle
                                    div.dropdown
                                        a#toolsMenu.nav-item.dropdown.no-arrow.btn.btn-ice(title="Tools" href='#_' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' aria-labelledby="toolsMenu")
                                            i.fas.fa-toolbox.align-middle
                                        .dropdown-menu.dropdown-menu-right.shadow.animated--grow-in(aria-labelledby="toolsMenu")
                                            if (enableManageTools && results.length > 1)
                                                span.dropdown-header.d-xl-none.d-lg-none
                                                    | Manager Tools
                                                a.dropdown-item(title="Select Items" href='#_' onclick='enableGallerySelect(); return false;').d-xl-none.d-lg-none
                                                    i.fas.fa-check-circle.pr-2
                                                    | Select Items
                                            span.dropdown-header
                                                | Filter
                                            if (params.has('flagged') && params.getAll('flagged')[0] !== 'true')
                                                a.dropdown-item(title="Show All Content" href='#_' onclick=`getNewContent(['offset', 'flagged'], []); return false;`)
                                                    i.fas.fa-flag-checkered.pr-2
                                                    | Remove
                                            else
                                                a.dropdown-item(title="Show only Flagged Content" href='#_' onclick=`getNewContent(['offset'], [['flagged','true']]); return false;`)
                                                    i.fas.fa-flag.pr-2
                                                    | Show Flagged
                                            if (params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album')))
                                                if (params.getAll('nsfw')[0] === 'true' || (nsfwEnabled))
                                                    a.dropdown-item.nsfw-dropdown-item(title="Exclude NSFW Content" href='#_' onclick=`getNewContent(['offset'], [['nsfwEnable','false']]); return false;`)
                                                        i.fas.fa-eye-slash.pr-2
                                                        | Exclude NSFW
                                                else
                                                    a.dropdown-item.nsfw-dropdown-item(title="Include NSFW Content" href='#_' onclick=`getNewContent(['offset'], [['nsfwEnable','true'],['nsfw','true']]); return false;`)
                                                        i.fas.fa-eye.pr-2
                                                        | Include NSFW
                                            if (!(params.has('album') || params.has('album_name')))
                                                span.dropdown-header.d-xl-none
                                                    | Indexes
                                                a.dropdown-item(title="Show Artists" href='#_' onclick=`getNewContent([], [], '/artists', true); return false;`).d-xl-none
                                                    i.fas.fa-address-book.pr-2
                                                    | Artists
                                            span.dropdown-header
                                                | Display Mode
                                            form#ratio2Collapse.accordion.dropdown-item.p-0
                                                .div
                                                    #displayImageSizeHeader.collapsed
                                                        .mb-0.mr-auto
                                                            button.dropdown-item(type='button' data-toggle='collapse' data-target=`#displayImageSizeBody`).d-inline-flex
                                                                i.fas.pr-2.fa-images.align-self-center
                                                                | Image Size
                                                                i.fas.fa-chevron-right.ml-auto.align-self-center
                                                    #displayImageSizeBody.collapse(aria-labelledby=`displayImageSizeHeader` data-parent=`#ratio2Collapse`)
                                                        div.ml-2
                                                            a.dropdown-item.pr-1(href='#_' onclick=`setImageLayout(3); return false;`)
                                                                | Thumbs
                                                            a.dropdown-item.pr-1(href='#_' onclick=`setImageLayout(2); return false;`)
                                                                | Small
                                                            a.dropdown-item.pr-1(href='#_' onclick=`setImageLayout(); return false;`)
                                                                | Default
                                                            a.dropdown-item.pr-1(href='#_' onclick=`setImageLayout(1); return false;`)
                                                                | Large
                                            a.dropdown-item(href='#_' onclick=`setPageLayout(true); return false;`).d-none.d-xxl-block
                                                i.fas.pr-2.fa-arrows-alt-h
                                                | Full Width
                                            .dropdown-divider
                                            if (path !== '/gallery')
                                                a.dropdown-item(title="View results as a gallery" href='#_' onclick=`getNewContent(['offset'], [], "/gallery?${(req_uri.split('?').length > 1) ? req_uri.split('?').pop() : ''}"); return false;` role='button')
                                                    i.fas.fa-images.pr-2
                                                    | View as Gallery
                                            if (path !== '/files')
                                                a.dropdown-item(title="View results as file list" href='#_' onclick=`getNewContent(['offset'], [], "/files?${(req_uri.split('?').length > 1) ? req_uri.split('?').pop() : ''}"); return false;` role='button')
                                                    i.fas.fa-folder.pr-2
                                                    | View as Files
                                            if (path !== '/cards')
                                                a.dropdown-item(title="View results as a cards list" href='#_' onclick=`getNewContent(['offset'], [], "/cards?${(req_uri.split('?').length > 1) ? req_uri.split('?').pop() : ''}"); return false;` role='button')
                                                    i.fas.fa-envelope.pr-2
                                                    | View as Cards
                                            span.dropdown-header
                                                | Services
                                            a.dropdown-item(title="Download all images" href='#_' onclick="$('#downloadAll').modal('show'); return false;" role='button')
                                                i.fas.fa-download.pr-2
                                                | Download
                                            a.dropdown-item(title="View RSS Feed URL's" href='#_' onclick="$('#feedModel').modal('show'); return false;" role='button')
                                                i.fas.fa-satellite-dish.pr-2
                                                | RSS Feed
                                            if (android_uri)
                                                a.dropdown-item(title="Send current page results to Wallpaper Service" href='#_' role='button' onclick="$('#appModal').modal('show'); return false;")
                                                    i.fas.pr-2.fa-laptop
                                                    | Set as DWS
                                            a.dropdown-item(title="Send current page results to an Ambient Display" href='#_' role='button' onclick="loadADSDisplays(); return false;")
                                                i.fas.pr-2.fa-tv
                                                | Set as ADS
                                            span.dropdown-header
                                                | Request Options
                                            if (pageinatorEnable)
                                                a.dropdown-item(title="Hide Paginator" href='#_' onclick=`getNewContent(['pageinatorEnable'], [['pageinatorEnable', 'false']]); return false;`)
                                                    i.pr-2.fas.fa-book-open
                                                    | Hide Pages
                                            else
                                                a.dropdown-item(title="Show Paginator" href='#_' onclick=`getNewContent(['pageinatorEnable'], [['pageinatorEnable', 'true']]); return false;`)
                                                    i.pr-2.fas.fa-book-open
                                                    | Show Pages
                                            form.form-group.ml-3.mr-3(onsubmit="return false;" method="POST")
                                                .input-group(style='max-width: 130px;')
                                                    .input-group-prepend
                                                        span.input-group-text.bg-translucent.border-0
                                                            i.fas.fa-table.fa-sm.align-middle.text-primary
                                                    input(type="submit" style="display: none" onclick=`getLimitContent(); return false;`)
                                                    input#limitRequested.form-control.bg-translucent.border-0.small.text-left(type='text' value=req_limit)
                                                    .input-group-append
                                                        a.input-group-text.btn-primary.border-0.bg-translucent(title="Request New Limit" href='#_', onclick=`getLimitContent(); return false;`)
                                                            i.fas.fa-sync.fa-sm.align-middle.nav-item.text-primary
                                    div.dropdown
                                        a#viewMenu.nav-item.dropdown.no-arrow.btn.btn-ice(title="Filter and View Options" href='#_' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' aria-labelledby="viewMenu")
                                            i.fas.fa-filter.align-middle
                                            #postRange
                                        .dropdown-menu.dropdown-menu-right.shadow.animated--grow-in(aria-labelledby="viewMenu")
                                            if (results && req_uri)
                                                span.dropdown-header
                                                    | Sort
                                                if (params.getAll('reverse')[0] === 'true')
                                                    a.dropdown-item(title="Sort Descending" href='#_' onclick=`getNewContent(['offset', 'reverse'${(params.getAll('sort')[0] === 'random') ? ', \'sort\'' : ''}], []); return false;` role='button')
                                                        i.fas.fa-sort-amount-down.pr-2
                                                        | Descending (A-Z)
                                                else
                                                    if (params.getAll('sort')[0] === 'random')
                                                        a.dropdown-item(title="Sort Descending" href='#_' onclick=`getNewContent(['offset', 'reverse'${(params.getAll('sort')[0] === 'random') ? ', \'sort\'' : ''}], []); return false;` role='button')
                                                            i.fas.fa-sort-amount-down.pr-2
                                                            | Descending (A-Z)
                                                    a.dropdown-item(title="Sort Ascending" href='#_' onclick=`getNewContent(['offset'${(params.getAll('sort')[0] === 'random') ? ', \'sort\'' : ''}], [['reverse', 'true']]); return false;` role='button')
                                                        i.fas.fa-sort-amount-up.pr-2
                                                        | Ascending (Z-A)
                                                if (params.getAll('sort')[0] !== 'random')
                                                    a.dropdown-item(title="Randomize" href='#_' onclick=`getNewContent(['offset'], [['sort', 'random']])` role='button').d-xl-none
                                                        i.fas.fa-dice.pr-2
                                                        | Random
                                                .dropdown-divider
                                                if (params.getAll('pins')[0] === 'false')
                                                    a.dropdown-item(title="Show All" href='#_' onclick=`getNewContent(['offset', 'pins'], [])`  role='button')
                                                        i.fas.fa-slash.pr-2
                                                        | Show All
                                                else
                                                    a.dropdown-item(title="Show only not favorited" href='#_' onclick=`getNewContent(['offset'], [['pins', 'false']])` role='button')
                                                        i.far.fa-star.pr-2
                                                        | Unfavorited
                                                if (params.getAll('pins')[0] === 'true')
                                                    a.dropdown-item(title="Show All" href='#_' onclick=`getNewContent(['offset', 'pins'], [])`  role='button').d-xl-none
                                                        i.fas.fa-slash.pr-2
                                                        | Show All
                                                else
                                                    a.dropdown-item(title="Show only favorites" href='#_' onclick=`getNewContent(['offset'], [['pins', 'true']])` role='button').d-xl-none
                                                        i.fas.fa-star.pr-2
                                                        | Favorites
                                                if (!(params.getAll('sort')[0] === 'random'))
                                                    if (params.getAll('sort')[0] !== 'eid')
                                                        a.dropdown-item(title="Sort by creation" href='#_' onclick=`getNewContent(['offset', 'reverse'], [['sort', 'eid']]); return false;` role='button')
                                                            i.fas.fa-stream.pr-2
                                                            | Uploaded
                                                    if (params.getAll('sort')[0] !== 'id')
                                                        a.dropdown-item(title="Sort by modified" href='#_' onclick=`getNewContent(['offset', 'reverse'], [['sort', 'id']]); return false;` role='button')
                                                            i.fas.fa-sync.pr-2
                                                            | Modified
                                                    if (params.getAll('sort')[0] !== 'date')
                                                        a.dropdown-item(title="Sort by date" href='#_' onclick=`getNewContent(['offset', 'reverse'], [['sort', 'date']]); return false;` role='button')
                                                            i.fas.fa-file.pr-2
                                                            | Originated
                                                    if (!(params.getAll('sort')[0] === 'album') && params.has('album'))
                                                        a.dropdown-item(title="Sort by date added to Album" href='#_' onclick=`getNewContent(['offset', 'reverse'], [['sort', 'album']]); return false;` role='button')
                                                            i.fas.fa-archive.pr-2
                                                            | Added
                                                    if (!(params.getAll('sort')[0] === 'fav') && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                        a.dropdown-item(title="Sort by date Favoured" href='#_' onclick=`getNewContent(['offset', 'reverse'], [['sort', 'fav']]); return false;` role='button')
                                                            i.fas.fa-star.pr-2
                                                            | Favoured
                                                    if (!(params.getAll('sort')[0] === 'history') && (params.has('displayname') || params.getAll('history')[0] === 'only'))
                                                        a.dropdown-item(title="Sort by date last displayed" href='#_' onclick=`getNewContent(['offset', 'reverse'], [['sort', 'history']]); return false;` role='button')
                                                            i.fas.fa-history.pr-2
                                                            | Last Shown
                                                    if (params.getAll('sort')[0] !== 'content')
                                                        a.dropdown-item(title="Sort by message content" href='#_' onclick=`getNewContent(['offset'], [['reverse', 'true'],['sort', 'content']]); return false;` role='button')
                                                            i.fas.fa-envelope.pr-2
                                                            | Full Text
                                                    if (params.getAll('sort')[0] !== 'name')
                                                        a.dropdown-item(title="Sort by File Name" href='#_' onclick=`getNewContent(['offset'], [['reverse', 'true'],['sort', 'name']]); return false;` role='button')
                                                            i.fas.fa-font.pr-2
                                                            | File Name
                                                    if (params && path === '/files' || (params && path === '/cards'))
                                                        if (params.getAll('sort')[0] !== 'file')
                                                            a.dropdown-item(title="Sort by Real File Name for Spanned Files" href='#_' onclick=`getNewContent(['offset'], [['reverse', 'true'],['sort', 'file']]); return false;` role='button')
                                                                i.fas.fa-file.pr-2
                                                                | Real File Name
                                                        if (params.getAll('sort')[0] !== 'size')
                                                            a.dropdown-item(title="Sort by File Size" href='#_' onclick=`getNewContent(['offset', 'reverse'], [['sort', 'size']]); return false;` role='button')
                                                                i.fas.fa-hdd.pr-2
                                                                | File Size
                                            if (req_uri)
                                                if (params && (path === '/gallery' || path === '/files' || path === '/cards'))
                                                    span.dropdown-header
                                                        | Date
                                                    if (params.has('numdays') || params.has('history_numdays') || params.has('fav_numdays') || params.has('datestart') || params.has('dateend'))
                                                        a.dropdown-item(title="Remove" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'history_numdays', 'offset'], [])`  role='button')
                                                            i.fas.fa-slash.align-middle.pr-2
                                                            | Remove
                                                    form#dateCollapse.accordion.dropdown-item.p-0
                                                        if (params.has('pins'))
                                                            .div
                                                                #dateFavoritedRangeHeader.collapsed
                                                                    .mb-0.mr-auto
                                                                        button.dropdown-item(type='button' data-toggle='collapse' data-target=`#dateFavoritedRangeBody`).d-inline-flex
                                                                            i.fas.pr-2.fa-calendar-week.align-self-center
                                                                            span.mr-2 Range - Favoured
                                                                            i.fas.fa-chevron-right.ml-auto.align-self-center
                                                                #dateFavoritedRangeBody.collapse(aria-labelledby=`dateFavoritedRangeHeader` data-parent=`#dateCollapse`)
                                                                    div.ml-2
                                                                        a.dropdown-item.pr-1(title="Only Today" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'history_numdays', 'offset'], [['fav_numdays', '1']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | Today
                                                                        a.dropdown-item.pr-1(title="The last 3 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'history_numdays', 'offset'], [['fav_numdays', '3']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | 3 Days
                                                                        a.dropdown-item.pr-1(title="The last 7 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'history_numdays', 'offset'], [['fav_numdays', '7']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | 7 Days
                                                                        a.dropdown-item.pr-1(title="The last 15 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'history_numdays', 'offset'], [['fav_numdays', '15']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | 15 Days
                                                                        a.dropdown-item.pr-1(title="The last 30 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'history_numdays', 'offset'], [['fav_numdays', '30']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | 30 Days
                                                                        a.dropdown-item.pr-1(title="The last 60 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'history_numdays', 'offset'], [['fav_numdays', '60']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | 60 Days
                                                                        a.dropdown-item.pr-1(title="The last 90 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'history_numdays', 'offset'], [['fav_numdays', '90']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | 90 Days
                                                                        a.dropdown-item.pr-1(title="This year" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'history_numdays', 'offset'], [['fav_numdays', '360']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | This Year
                                                        if (params.getAll('history')[0] === 'only')
                                                            .div
                                                                #dateHistoryRangeHeader.collapsed
                                                                    .mb-0.mr-auto
                                                                        button.dropdown-item(type='button' data-toggle='collapse' data-target=`#dateHistoryRangeBody`).d-inline-flex
                                                                            i.fas.pr-2.fa-calendar-week.align-self-center
                                                                            span.mr-2 Range - History
                                                                            i.fas.fa-chevron-right.ml-auto.align-self-center
                                                                #dateHistoryRangeBody.collapse(aria-labelledby=`dateHistoryRangeHeader` data-parent=`#dateCollapse`)
                                                                    div.ml-2
                                                                        a.dropdown-item.pr-1(title="Only Today" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['history_numdays', '1']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | Today
                                                                        a.dropdown-item.pr-1(title="The last 3 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['history_numdays', '3']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | 3 Days
                                                                        a.dropdown-item.pr-1(title="The last 7 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['history_numdays', '7']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | 7 Days
                                                                        a.dropdown-item.pr-1(title="The last 15 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['history_numdays', '15']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | 15 Days
                                                                        a.dropdown-item.pr-1(title="The last 30 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['history_numdays', '30']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | 30 Days
                                                                        a.dropdown-item.pr-1(title="The last 60 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['history_numdays', '60']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | 60 Days
                                                                        a.dropdown-item.pr-1(title="The last 90 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['history_numdays', '90']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | 90 Days
                                                                        a.dropdown-item.pr-1(title="This year" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['history_numdays', '360']]); return false;`)
                                                                            i.fas.fa-calendar-day.pr-2
                                                                            | This Year
                                                        .div
                                                            #dateRangeHeader.collapsed
                                                                .mb-0.mr-auto
                                                                    button.dropdown-item(type='button' data-toggle='collapse' data-target=`#dateRangeBody`).d-inline-flex
                                                                        i.fas.pr-2.fa-calendar-week.align-self-center
                                                                        | Range#{(params.getAll('history')[0] === 'only') ? ' - Items' : ''}
                                                                        i.fas.fa-chevron-right.ml-auto.align-self-center
                                                            #dateRangeBody.collapse(aria-labelledby=`dateRangeHeader` data-parent=`#dateCollapse`)
                                                                div.ml-2
                                                                    a.dropdown-item.pr-1(title="Only Today" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['numdays', '1']]); return false;`)
                                                                        i.fas.fa-calendar-day.pr-2
                                                                        | Today
                                                                    a.dropdown-item.pr-1(title="The last 3 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['numdays', '3']]); return false;`)
                                                                        i.fas.fa-calendar-day.pr-2
                                                                        | 3 Days
                                                                    a.dropdown-item.pr-1(title="The last 7 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['numdays', '7']]); return false;`)
                                                                        i.fas.fa-calendar-day.pr-2
                                                                        | 7 Days
                                                                    a.dropdown-item.pr-1(title="The last 15 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['numdays', '15']]); return false;`)
                                                                        i.fas.fa-calendar-day.pr-2
                                                                        | 15 Days
                                                                    a.dropdown-item.pr-1(title="The last 30 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['numdays', '30']]); return false;`)
                                                                        i.fas.fa-calendar-day.pr-2
                                                                        | 30 Days
                                                                    a.dropdown-item.pr-1(title="The last 60 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['numdays', '60']]); return false;`)
                                                                        i.fas.fa-calendar-day.pr-2
                                                                        | 60 Days
                                                                    a.dropdown-item.pr-1(title="The last 90 days" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['numdays', '90']]); return false;`)
                                                                        i.fas.fa-calendar-day.pr-2
                                                                        | 90 Days
                                                                    a.dropdown-item.pr-1(title="This year" href='#_' onclick=`getNewContent(['datestart', 'dateend', 'numdays', 'fav_numdays', 'offset'], [['numdays', '360']]); return false;`)
                                                                        i.fas.fa-calendar-day.pr-2
                                                                        | This Year
                                                        .div
                                                            #datePickerHeader.collapsed
                                                                .mb-0.mr-auto
                                                                    button.dropdown-item(type='button' data-toggle='collapse' data-target=`#datePickerBody`).d-inline-flex
                                                                        i.fas.pr-2.fa-calendar-alt.align-self-center
                                                                        | Custom
                                                                        i.fas.fa-chevron-right.ml-auto.align-self-center
                                                            #datePickerBody.collapse(aria-labelledby=`datePickerHeader` data-parent=`#dateCollapse`)
                                                                div.ml-2
                                                                    a.dropdown-item.pr-1(title="Select Date Range" href='#_' onclick=`$("#postRange").click(); return false;` style="width: 11em").text-ellipsis.d-inline-flex
                                                                        .pr-2
                                                                            i.fas.fa-calendar-day
                                                                        div
                                                                            span#dateText
                                                span.dropdown-header
                                                    | Resolution
                                                    if (params.has('minres'))
                                                        span.pl-1 (#{params.getAll('minres')[0]}px)
                                                if (params.has('minhres') || params.has('minwres') || params.has('minres'))
                                                    a.dropdown-item(title="Show all image resolutions" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], []); return false;`)
                                                        i.fas.fa-slash.pr-2
                                                        | Reset Filter
                                                form#resolution2Collapse.accordion.dropdown-item.p-0
                                                    .div
                                                        #resolution2WidthHeader.collapsed
                                                            .mb-0.mr-auto
                                                                button.dropdown-item(type='button' data-toggle='collapse' data-target=`#resolution2WidthBody`).d-inline-flex
                                                                    i.fas.pr-2.fa-ruler-horizontal.align-self-center
                                                                    | Horizontal
                                                                    i.fas.fa-chevron-right.ml-auto.align-self-center
                                                        #resolution2WidthBody.collapse(aria-labelledby=`resolution2WidthHeader` data-parent=`#resolution2Collapse`)
                                                            div.ml-2
                                                                a.dropdown-item.pr-1(title="Show images larger then 720px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minwres', '720']]); return false;`)
                                                                    i.fas.fa-ruler-horizontal.pr-2
                                                                    | HQ (720px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 720px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minwres', '900']]); return false;`)
                                                                    i.fas.fa-ruler-horizontal.pr-2
                                                                    | HQ (900px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 1080px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minwres', '1000']]); return false;`)
                                                                    i.fas.fa-ruler-horizontal.pr-2
                                                                    | HD (1000px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 2000px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minwres', '2000']]); return false;`)
                                                                    i.fas.fa-ruler-horizontal.pr-2
                                                                    | 2K (2000px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 3000px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minwres', '3000']]); return false;`)
                                                                    i.fas.fa-ruler-horizontal.pr-2
                                                                    | 3K (3000px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 4000px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minwres', '4000']]); return false;`)
                                                                    i.fas.fa-ruler-horizontal.pr-2
                                                                    | 4K (4000px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 5000px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minwres', '5000']]); return false;`)
                                                                    i.fas.fa-ruler-horizontal.pr-2
                                                                    | 5K (5000px+)
                                                    .div
                                                        #resolution2HeightHeader.collapsed
                                                            .mb-0.mr-auto
                                                                button.dropdown-item(type='button' data-toggle='collapse' data-target=`#resolution2HeightBody`).d-inline-flex
                                                                    i.fas.pr-2.fa-ruler-vertical.align-self-center
                                                                    | Vertical
                                                                    i.fas.fa-chevron-right.ml-auto.align-self-center
                                                        #resolution2HeightBody.collapse(aria-labelledby=`resolution2HeightHeader` data-parent=`#resolution2Collapse`)
                                                            div.ml-2
                                                                a.dropdown-item.pr-1(title="Show images larger then 720px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minhres', '720']]); return false;`)
                                                                    i.fas.fa-ruler-vertical.pr-2
                                                                    | HQ (720px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 720px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minhres', '900']]); return false;`)
                                                                    i.fas.fa-ruler-vertical.pr-2
                                                                    | HQ (900px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 1080px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minhres', '1000']]); return false;`)
                                                                    i.fas.fa-ruler-vertical.pr-2
                                                                    | HD (1000px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 2000px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minhres', '2000']]); return false;`)
                                                                    i.fas.fa-ruler-vertical.pr-2
                                                                    | 2K (2000px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 3000px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minhres', '3000']]); return false;`)
                                                                    i.fas.fa-ruler-vertical.pr-2
                                                                    | 3K (3000px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 4000px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minhres', '4000']]); return false;`)
                                                                    i.fas.fa-ruler-vertical.pr-2
                                                                    | 4K (4000px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 5000px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minhres', '5000']]); return false;`)
                                                                    i.fas.fa-ruler-vertical.pr-2
                                                                    | 5K (5000px+)
                                                    .div
                                                        #resolution2CombindedHeader.collapsed
                                                            .mb-0.mr-auto
                                                                button.dropdown-item(type='button' data-toggle='collapse' data-target=`#resolution2CombindedBody`).d-inline-flex
                                                                    i.fas.pr-2.fa-ruler-combined.align-self-center
                                                                    | Loose
                                                                    i.fas.fa-chevron-right.ml-auto.align-self-center
                                                        #resolution2CombindedBody.collapse(aria-labelledby=`resolution2CombindedHeader` data-parent=`#resolution2Collapse`)
                                                            div.ml-2
                                                                a.dropdown-item.pr-1(title="Show images larger then 720px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minres', '720']]); return false;`)
                                                                    i.fas.fa-ruler-combined.pr-2
                                                                    | HQ (720px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 720px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minres', '900']]); return false;`)
                                                                    i.fas.fa-ruler-combined.pr-2
                                                                    | HQ (900px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 1080px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minres', '1000']]); return false;`)
                                                                    i.fas.fa-ruler-combined.pr-2
                                                                    | HD (1000px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 2000px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minres', '2000']]); return false;`)
                                                                    i.fas.fa-ruler-combined.pr-2
                                                                    | 2K (2000px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 3000px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minres', '3000']]); return false;`)
                                                                    i.fas.fa-ruler-combined.pr-2
                                                                    | 3K (3000px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 4000px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minres', '4000']]); return false;`)
                                                                    i.fas.fa-ruler-combined.pr-2
                                                                    | 4K (4000px+)
                                                                a.dropdown-item.pr-1(title="Show images larger then 5000px" href='#_' onclick=`getNewContent(['offset', 'minwres', 'minhres', 'minres'], [['minres', '5000']]); return false;`)
                                                                    i.fas.fa-ruler-combined.pr-2
                                                                    | 5K (5000px+)
                                                span.dropdown-header
                                                    | Aspect Ratio
                                                    if (params.has('ratio'))
                                                        span.pl-1 (#{params.getAll('ratio')[0]})
                                                if (params.has('ratio'))
                                                    a.dropdown-item(title="Show all Aspect Ratios" href='#_' onclick=`getNewContent(['offset', 'ratio'], []); return false;`)
                                                        i.fas.fa-slash.pr-2
                                                        | Remove
                                                form#ratio2Collapse.accordion.dropdown-item.p-0
                                                    .div
                                                        #ratio2LooseHeader.collapsed
                                                            .mb-0.mr-auto
                                                                button.dropdown-item(type='button' data-toggle='collapse' data-target=`#ratio2LooseBody`).d-inline-flex
                                                                    i.fas.pr-2.fa-expand-arrows-alt.align-self-center
                                                                    | Loose
                                                                    i.fas.fa-chevron-right.ml-auto.align-self-center
                                                        #ratio2LooseBody.collapse(aria-labelledby=`ratio2LooseHeader` data-parent=`#ratio2Collapse`)
                                                            div.ml-2
                                                                a.dropdown-item.pr-1(title="Show only Portrait Images" href='#_' onclick=`getNewContent(['offset', 'ratio'], [['ratio', '0.85-2.1']]); return false;`)
                                                                    | Portrait
                                                                a.dropdown-item.pr-1(title="Show only Square Images" href='#_' onclick=`getNewContent(['offset', 'ratio'], [['ratio', '0.8-1.2']]); return false;`)
                                                                    | Square
                                                                a.dropdown-item.pr-1(title="Show only Widescreen Images" href='#_' onclick=`getNewContent(['offset', 'ratio'], [['ratio', '0.01-1']]); return false;`)
                                                                    | Widescreen
                                                    .div
                                                        #ratio2StrictHeader.collapsed
                                                            .mb-0.mr-auto
                                                                button.dropdown-item(type='button' data-toggle='collapse' data-target=`#ratio2StrictBody`).d-inline-flex
                                                                    i.fas.pr-2.fa-expand-arrows-alt.align-self-center
                                                                    | Strict
                                                                    i.fas.fa-chevron-right.ml-auto.align-self-center
                                                        #ratio2StrictBody.collapse(aria-labelledby=`ratio2StrictHeader` data-parent=`#ratio2Collapse`)
                                                            div.ml-2
                                                                a.dropdown-item.pr-1(title="Show only Portrait Images" href='#_' onclick=`getNewContent(['offset', 'ratio'], [['ratio', '1.1-2.1']]); return false;`)
                                                                    | Portrait
                                                                a.dropdown-item.pr-1(title="Show only 3:4 Images" href='#_' onclick=`getNewContent(['offset', 'ratio'], [['ratio', '1.32-1.34']]); return false;`)
                                                                    | Photo (3:4)
                                                                a.dropdown-item.pr-1(title="Show only 9:16 Images" href='#_' onclick=`getNewContent(['offset', 'ratio'], [['ratio', '1.76-1.78']]); return false;`)
                                                                    | Wallpaper (9:16)
                                                                .dropdown-divider.mt-1.mb-1
                                                                a.dropdown-item.pr-1(title="Show only Square Images" href='#_' onclick=`getNewContent(['offset', 'ratio'], [['ratio', '0.90-1.15']]); return false;`)
                                                                    | Square
                                                                .dropdown-divider.mt-1.mb-1
                                                                a.dropdown-item.pr-1(title="Show only Widescreen Images" href='#_' onclick=`getNewContent(['offset', 'ratio'], [['ratio', '0.01-0.9']]); return false;`)
                                                                    | Widescreen
                                                                a.dropdown-item.pr-1(title="Show only 4:3 Images" href='#_' onclick=`getNewContent(['offset', 'ratio'], [['ratio', (3/4).toString()]]); return false;`)
                                                                    | Photo (4:3)
                                                                a.dropdown-item.pr-1(title="Show only 16:9 Images" href='#_' onclick=`getNewContent(['offset', 'ratio'], [['ratio', (9/16).toString()]]); return false;`)
                                                                    | Wallpaper (16:9)
                                                    .div
                                                        #ratio2CustomHeader.collapsed
                                                            .mb-0.mr-auto
                                                                button.dropdown-item(type='button' data-toggle='collapse' data-target=`#ratio2CustomBody`).d-inline-flex
                                                                    i.fas.pr-2.fa-expand-arrows-alt.align-self-center
                                                                    | Custom
                                                                    i.fas.fa-chevron-right.ml-auto.align-self-center
                                                        #ratio2CustomBody.collapse(aria-labelledby=`ratio2CustomHeader` data-parent=`#ratio2Collapse`)
                                                            div.dropdown-item
                                                                input#ratio2Slider.span2(type='text' value='' data-slider-min='0' data-slider-mid='1' data-slider-max='3' data-slider-step='0.01' data-slider-range='true' data-slider-value=sliderDefaults data-slider-reversed="true" data-tooltip='show' data-slider-lock-to-ticks="false" data-slider-ticks-snap-bounds="0.01" data-slider-ticks="[0, 1, 3]")
                                                                div.d-flex.pt-2
                                                                    span P
                                                                    span.mr-auto.ml-auto S
                                                                    span L
                                                                div.d-flex
                                                                    a(type='button' title="Apply Range" href='#_' onclick=`applyRangeSelection2(); return false;`)
                                                                        i.fas.fa-check.pr-2
                                                                        | Apply
                                                                script.
                                                                    $("#ratio2Slider").slider({id: 'rangeSlider'});
                                                                    function applyRangeSelection2() {
                                                                        const _rI = $('#ratio2Slider').slider()[0].value.split(',')
                                                                        getNewContent(['offset', 'ratio'], [['ratio', `${_rI.join('-')}`]])
                                                                    }

                                                span.dropdown-header
                                                    | Colour
                                                if (params.has('dark'))
                                                    a.dropdown-item(title="Show both light and dark images" href='#_' onclick=`getNewContent(['offset', 'dark'], []); return false;`)
                                                        i.fas.fa-slash.pr-2
                                                        | Reset Filter
                                                if (params.getAll('dark')[0] !== 'false')
                                                    a.dropdown-item(title="Show only bright images" href='#_' onclick=`getNewContent(['offset'], [['dark', 'false']]); return false;`)
                                                        i.fas.fa-sun.pr-2
                                                        | Light
                                                if (params.getAll('dark')[0] !== 'true')
                                                    a.dropdown-item(title="Show only dark images" href='#_' onclick=`getNewContent(['offset'], [['dark', 'true']]); return false;`)
                                                        i.fas.fa-moon.pr-2
                                                        | Dark
                                                form#colorCollapse.accordion.dropdown-item.p-0
                                                    .div
                                                        #colorLooseHeader.collapsed
                                                            .mb-0.mr-auto
                                                                button.dropdown-item(type='button' data-toggle='collapse' data-target=`#colorLooseBody`).d-inline-flex
                                                                    i.fas.pr-2.fa-swatchbook.align-self-center
                                                                    | Colour Range
                                                                    i.fas.fa-chevron-right.ml-auto.align-self-center
                                                        #colorLooseBody.collapse(aria-labelledby=`colorLooseHeader` data-parent=`#colorCollapse`)
                                                            .dropdown-item
                                                                input#colorRSlider.span2(type='text' value='' data-slider-min='0' data-slider-mid='128' data-slider-max='255' data-slider-step='1' data-slider-range='true' data-slider-value=sliderColorsDefaults[0] data-tooltip='show' data-slider-lock-to-ticks="false" data-slider-ticks-snap-bounds="15" data-slider-ticks="[0, 128, 255]")
                                                                input#colorGSlider.span2(type='text' value='' data-slider-min='0' data-slider-mid='128' data-slider-max='255' data-slider-step='1' data-slider-range='true' data-slider-value=sliderColorsDefaults[1] data-tooltip='show' data-slider-lock-to-ticks="false" data-slider-ticks-snap-bounds="15" data-slider-ticks="[0, 128, 255]")
                                                                input#colorBSlider.span2(type='text' value='' data-slider-min='0' data-slider-mid='128' data-slider-max='255' data-slider-step='1' data-slider-range='true' data-slider-value=sliderColorsDefaults[2] data-tooltip='show' data-slider-lock-to-ticks="false" data-slider-ticks-snap-bounds="15" data-slider-ticks="[0, 128, 255]")
                                                                div.d-flex
                                                                    a(type='button' title="Apply Range" href='#_' onclick=`applyColorRangeSelection(); return false;`)
                                                                        i.fas.fa-check.pr-2
                                                                        | Apply
                                                                script.
                                                                    $("#colorRSlider").slider({id: "colorSliderR"});
                                                                    $("#colorGSlider").slider({id: "colorSliderG"});
                                                                    $("#colorBSlider").slider({id: "colorSliderB"});
                                                                    function applyColorRangeSelection() {
                                                                        const _cR = $('#colorRSlider').slider()[0].value.split(',').join('-')
                                                                        const _cG = $('#colorGSlider').slider()[0].value.split(',').join('-')
                                                                        const _cB = $('#colorBSlider').slider()[0].value.split(',').join('-')
                                                                        getNewContent(['offset', 'ratio'], [['color', `${_cR}:${_cG}:${_cB}`]])
                                                                    }
                                    - let search_uri = `/gallery`;
                                    - if (req_uri) { search_uri = req_uri }
                                else if (results && params && path === '/artists')
                                    div.dropdown
                                        a#viewMenu.nav-item.dropdown.no-arrow.btn.btn-ice(title="Filter and View Options" href='#_' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' aria-labelledby="viewMenu")
                                            i.fas.fa-filter.align-middle
                                        .dropdown-menu.dropdown-menu-right.shadow.animated--grow-in(aria-labelledby="viewMenu")
                                            span.dropdown-header
                                                | Sort
                                            if (params.getAll('reverse')[0] === 'true')
                                                a.dropdown-item(title="Sort Descending" href='#_' onclick=`getNewContent(['offset', 'reverse'], []); return false;` role='button')
                                                    i.fas.fa-sort-amount-down.pr-2
                                                    | Descending (A-Z)
                                            else
                                                a.dropdown-item(title="Sort Ascending" href='#_' onclick=`getNewContent(['offset'], [['reverse', 'true']]); return false;` role='button')
                                                    i.fas.fa-sort-amount-up.pr-2
                                                    | Ascending (Z-A)
                                            .dropdown-divider
                                            if (params.getAll('sort')[0] !== 'count')
                                                a.dropdown-item(title="Sort by Total count of items" href='#_' onclick=`getNewContent(['offset', 'reverse'], [['sort', 'count']]); return false;` role='button')
                                                    i.fas.pr-2.fa-calculator
                                                    | Total Count
                                            if (params.getAll('sort')[0] !== 'name')
                                                a.dropdown-item(title="Sort by Artist Name" href='#_' onclick=`getNewContent(['offset'], [['sort', 'name']]); return false;` role='button')
                                                    i.fas.pr-2.fa-user
                                                    | Artist Name
                                            if (params.getAll('sort')[0] !== 'eid')
                                                a.dropdown-item(title="Sort by most recent contribution" href='#_' onclick=`getNewContent(['offset', 'reverse'], [['sort', 'eid']]); return false;` role='button')
                                                    i.fas.fa-stream.pr-2
                                                    | Date Modified
                                            if (!(params.getAll('sort')[0] === 'random'))
                                                a.dropdown-item(title="Randomize" href='#_' onclick=`getNewContent(['offset', 'reverse'], [['sort', 'random']]); return false;` role='button')
                                                    i.fas.fa-dice.pr-2
                                                    | Random
                                div.dropdown
                                    a#searchDropdown.navbar-item.btn.btn-ice(title="Search" href='#_' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
                                        i.fas.fa-search.align-middle
                                    // Dropdown - Messages
                                    .search-dropdown.dropdown-menu.dropdown-menu-right.p-3.shadow.animated--grow-in(aria-labelledby='searchDropdown')
                                        form.form-inline.mr-auto.mw-100.navbar-search(onsubmit="return false;" method="post" )
                                            .input-group.w-100
                                                input#dropdownSearch.form-control.bg-translucent.border-0.small(type='text' placeholder='Search' aria-label='Search' aria-describedby='basic-addon2' name="searchterm" value=search_prev)
                                                input(type="submit" style="display: none" onclick=`getSearchContent("dropdownSearch"); return false;`)
                                                .input-group-append
                                                    if (params && path === '/artists')
                                                        a.btn.input-group-text.bg-translucent.border-0(title="Search for Artists"  href='#_', onclick=`getSearchContent("dropdownSearch", "/artists"); return false;`)
                                                            i.fas.fa-sm.align-middle.nav-item.fa-address-book
                                                    else
                                                        a.btn.input-group-text.bg-translucent.border-0(title="Search for Images"  href='#_', onclick=`getSearchContent("dropdownSearch", "/gallery"); return false;`)
                                                            i.fas.fa-image.fa-sm.align-middle.nav-item
                                                        a.btn.input-group-text.bg-translucent.border-0(title="Search for Files" href='#_', onclick=`getSearchContent("dropdownSearch", "/files"); return false;`)
                                                            i.fas.fa-folder.fa-sm.align-middle.nav-item
                                                        a.btn.input-group-text.bg-translucent.border-0(title="Search for Artists" href='#_', onclick=`getSearchContent("dropdownSearch", "/artists"); return false;`)
                                                            i.fas.fa-sm.align-middle.nav-item.fa-address-book
                            else
                                form.form-inline.navbar-search(onsubmit="return false;" method="post" style="width: unset;" )
                                    .input-group.w-100
                                        input#dropdownSearch.form-control.bg-translucent.border-0.small(type='text' placeholder='Search' aria-label='Search' aria-describedby='basic-addon2' name="searchterm" value=search_prev)
                                        input(type="submit" style="display: none" onclick=`getSearchContent("dropdownSearch"); return false;`)
                                        .input-group-append
                                            a.btn.input-group-text.bg-translucent.border-0(title="Search for Images"  href='#_', onclick=`getSearchContent("dropdownSearch", "/gallery"); return false;`)
                                                i.fas.fa-image.fa-sm.align-middle.nav-item
                                            a.btn.input-group-text.bg-translucent.border-0(title="Search for Files" href='#_', onclick=`getSearchContent("dropdownSearch", "/files"); return false;`)
                                                i.fas.fa-folder.fa-sm.align-middle.nav-item
                                            a.btn.input-group-text.bg-translucent.border-0(title="Search for Artists" href='#_', onclick=`getSearchContent("dropdownSearch", "/artists"); return false;`)
                                                i.fas.fa-sm.align-middle.nav-item.fa-address-book
                            li#doneBtns.nav-item.no-arrow.hidden
                                if (results && (params && (path === '/gallery' || path === '/files' || path === '/cards')) && results.length > 1)
                                    .btn-group
                                        a.navbar-item.btn.btn-admin(title="Cancel Selection" href='#_' onclick='disableGallerySelect(); clearactionModel(); ;return false;')
                                            i.fas.fa-times-circle.align-middle.text-danger

                                        a#selectAll1.navbar-item.btn.btn-admin.pr-2(title="Select All" href='#_' onclick='selectAllPoststoMode(); return false;').d-none.d-md-block
                                            i.fas.fa-check-square.align-middle
                                        a#deSelectAll1.navbar-item.btn.btn-admin.pr-2(title="Deselect All" href='#_' onclick='deselectAllPoststoMode(); return false;').d-none.d-md-block.hidden
                                            i.far.fa-check-square.align-middle

                                        button.navbar-item.btn.btn-fav(title="Commands" type='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false').d-md-none
                                            i.fas.fa-check-square.align-middle
                                        .dropdown-menu.d-md-none
                                            a#selectAll2.dropdown-item(title="Select All" href='#_' onclick='selectAllPoststoMode(); return false;')
                                                i.fas.fa-check-square.align-middle.pr-2
                                                | Select All
                                            a#deSelectAll2.dropdown-item(title="Deselect All" href='#_' onclick='deselectAllPoststoMode(); return false;')
                                                i.far.fa-check-square.align-middle.pr-2
                                                | Deselect All
                                        a.navbar-item.btn.btn-admin(title="Manage Messages" href='#_' onclick='openActionMenu(true); return false;')
                                            i.fas.fa-paste.align-middle

                            if (!masterCount)
                                // Topbar Search
                                //form.d-none.d-lg-inline-block.form-inline.my-2.my-md-0.mw-100.navbar-search.align-self-center(onsubmit="return false;" method="post" )
                                //    .input-group
                                //        input#mainSearch.form-control.bg-translucent.border-0.small.w-50(type='text' placeholder='Search' aria-label='Search' aria-describedby='basic-addon2' name="searchterm" value=search_prev)
                                //        input(type="submit" style="display: none" onclick=`getSearchContent("mainSearch"); return false;`)
                                //        .input-group-append
                                //            a.btn.input-group-text.bg-translucent.border-0(title="Search for Images" href='#_', onclick=`getSearchContent("mainSearch", "/gallery"); return false;`)
                                //                i.fas.fa-image.fa-sm.align-middle.nav-item
                                //            a.btn.input-group-text.bg-translucent.border-0(title="Search for Files" href='#_', onclick=`getSearchContent("mainSearch", "/files"`)
                                //                i.fas.fa-folder.fa-sm.align-middle.nav-item
                        // Nav Item - User Information
                        li.nav-item.dropdown.no-arrow
                            a#userDropdown.nav-link.dropdown-toggle.pr-0(title="User Account and Settings" href='#_' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
                                img.img-profile.rounded-circle(src=user.avatar)
                            // Dropdown - User Information
                            .dropdown-menu.dropdown-menu-right.shadow.animated--grow-in.no-max(aria-labelledby='userDropdown')
                                div.d-sm-flex
                                    div.pl-sm-3.align-self-center
                                        img.dropdown-header.img-profile.rounded-circle(src=user.avatar style="width: 190px;").pt-3
                                        div.text-center.text-ellipsis(style='padding: .5rem 1.5rem; max-width: 190px;')
                                            if (user && user.source || user && user.source === 0)
                                                if (user.source === 0)
                                                    // Logged in with Discord
                                                    i.fas.fa-check-circle.pr-2.text-success(title='Verified with Discord')
                                                else if (user.source === 1)
                                                    // Logged in with Discord
                                                    i.fas.fa-check-circle.pr-2.text-success(title='Verified with Telegram')
                                                else if (user.source < 100)
                                                    // Logged in with Discord
                                                    i.fas.fa-check-circle.pr-2.text-success(title='Verified Authentication')
                                                else if (user.source == 100)
                                                    // Logged in with Telegram
                                                    i.fas.fa-lock.pr-2.text-success(title='Verified with AuthWare')
                                                else if (user.source == 900)
                                                    // Logged in with Unauthorized Login Meathod
                                                    i.fas.fa-lock-open.pr-2.text-danger(title='Insecure Authentication Meathod')
                                                else
                                                    // Logged in with some unknown platform
                                                    i.fas.fa-question-circle.pr-2.text-danger(title='Unknown Platform')
                                            else
                                                // Login Source was not detected
                                                i.fas.fa-question-circle.text-danger.pr-2(title='Unknown Platform')
                                            span.dropdown-header.p-0.font-weight-light.d-inline(style='font-size: 1.1em; color: white;') #{user.username}
                                        if (user && user.source === 900)
                                            div.text-center.text-ellipsis.align-middle(style='max-width: 190px;')
                                                span.font-weight-bold.text-uppercase.text-danger Insecure Login Method
                                    div.align-self-center.pr-3
                                        a.dropdown-item(title="Manage Your Albums" href='#_' onclick='refreshAlbumsList(); return false;')
                                            i.fas.fa-sm.fa-fw.mr-2.fa-archive
                                            | Album Manager
                                        a.dropdown-item(data-placement="left" title="Image History" href='#_' onclick='showDisplayHistory(); return false;')
                                            i.fas.fa-desktop.fa-sm.fa-fw.mr-2
                                            | Ambient System
                                        if (user && user.source < 900)
                                            a.dropdown-item(data-placement="left" title="Authentication Manager" href='#_' onclick='showAuthManager(); return false;')
                                                i.fas.fa-key.fa-sm.fa-fw.mr-2
                                                | Authentication
                                        a.dropdown-item(title="Hide Channels you don't frequently view" href='#_' onclick=`$('#hiddenChannelModel').modal('show'); return false;`)
                                            i.fas.fa-sm.fa-fw.mr-2.fa-eye-slash
                                            | Hide Channels
                                        if (webconfig && webconfig.support_lines)
                                            a.dropdown-item(title="Support" href='#_' data-toggle='modal' data-target='#supportModal')
                                                i.fas.fa-sm.fa-fw.mr-2.fa-question-circle
                                                | Support
                                        a.dropdown-item(title="About" href='#_' data-toggle='modal' data-target='#aboutModal')
                                            i.fas.fa-sm.fa-fw.mr-2.fa-info-circle
                                            | About
                                        .dropdown-divider

                                        a.dropdown-item.only-standalone(title="Reload Application" href='#_' onclick='location.reload(); return false;')
                                            i.fas.fa-sync.fa-sm.fa-fw.mr-2
                                            | Restart App
                                        a.dropdown-item(title="Refresh Session" href='#_' onclick='getSidebar(true, true); return false;')
                                            i.fas.fa-sync.fa-sm.fa-fw.mr-2
                                            | Update Sidebar
                                        a.dropdown-item(data-placement="left" title="Refresh Session" href='/discord/refresh')
                                            i.fas.fa-sync.fa-sm.fa-fw.mr-2
                                            | Update Account
                                        a.dropdown-item(title="Logout" href='#_' data-toggle='modal' data-target='#logoutModal').text-danger
                                            i.fas.fa-sign-out-alt.fa-sm.fa-fw.mr-2.text-danger
                                            | Logout
                        div#topbarBackground(style='display: none;')

                    .container-fluid.max-resize
                        if (!(results && results.length === 1 && path === '/gallery' && search_prev && search_prev !== ''))
                            #showResultsWarningsFull.collapse
                                if (search_prev || search_prev === '')
                                    .alert.alert-info-darktrans.w-100(role="alert")
                                        .row
                                            .col-auto.align-self-start.align-self-center.pl-1
                                                if (active_svr)
                                                    - servericon = discord.servers.list.filter(e => e.serverid === active_svr).map(e => e.icon)
                                                    if (servericon && servericon.length > 0)
                                                        - servericon = servericon.pop()
                                                    else
                                                        - servericon = null
                                                if (servericon)
                                                    img.align-self-center.rounded(src=servericon style='height: 7rem;')
                                                else
                                                    .glyphicon.pl-1
                                                        i.fas.fa-directions.text-info
                                            .col
                                                if (!title || title === '')
                                                    if (params && (params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))))
                                                        if (params && path === '/artists')
                                                            div.row.text-lg
                                                                div
                                                                    | Artist Index
                                                            div.row
                                                                div
                                                                    | Index of Artists throughout the database
                                                        else if (params && params.getAll('sort')[0] === 'random')
                                                            div.row.text-lg
                                                                div
                                                                    | I'm Feeling Lucky
                                                            div.row
                                                                div
                                                                    | Random selection of items from the server
                                                        else if (params && params.getAll('sort')[0] === 'fav')
                                                            div.row.text-lg
                                                                div
                                                                    | Favorites
                                                            div.row
                                                                div
                                                                    | Favoured Items
                                                        else if (params && (params.getAll('sort')[0] === 'id' || params.getAll('sort')[0] === 'eid'))
                                                            if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                                div.row.text-lg
                                                                    div
                                                                        | Favorites
                                                                div.row
                                                                    div
                                                                        | Favoured Items
                                                            else
                                                                if (path === '/files')
                                                                    div.row.text-lg
                                                                        div
                                                                            | File Stream
                                                                    div.row
                                                                        div
                                                                            | Files in order of upload
                                                                else
                                                                    div.row.text-lg
                                                                        div
                                                                            | Photo Stream
                                                                    div.row
                                                                        div
                                                                            | Images in order of upload
                                                        else if (params.has('color'))
                                                            div.row.text-lg
                                                                div
                                                                    | Colour search
                                                            div.row
                                                                div
                                                                    | Images by there averaged colour
                                                        else if (params.has('displayname'))
                                                            div.row.text-lg
                                                                div
                                                                    | History
                                                            div.row
                                                                div
                                                                    | History for #{params.getAll('displayname')[0]}
                                                        else if (search_prev && search_prev !== '')
                                                            div.row.text-lg
                                                                div
                                                                    | Search Results
                                                            div.row
                                                                div
                                                                    if (search_prev.includes(" AND "))
                                                                        - _and = search_prev.split(' AND ')
                                                                        | Results for
                                                                        each andSearch, andIndex in _and
                                                                            if (andSearch.includes(" OR "))
                                                                                - _or = andSearch.split(' OR ')
                                                                                each orSearch, orIndex in _or
                                                                                    | '#{orSearch}'
                                                                                    if (orIndex + 1 !== _or.length)
                                                                                        | or
                                                                            else
                                                                                | '#{andSearch}'
                                                                            if (andIndex + 1 !== _and.length)
                                                                                | and
                                                                    else if (search_prev.includes(" OR "))
                                                                        - _or = search_prev.split(' OR ')
                                                                        | Results for
                                                                        each orSearch, orIndex in _or
                                                                            | '#{orSearch}'
                                                                            if (orIndex + 1 !== _or.length)
                                                                                | or
                                                                    else
                                                                        | Results for '#{search_prev}'
                                                        else
                                                            div.row.text-lg
                                                                div
                                                                    | Recents
                                                            div.row
                                                                div
                                                                    | Images in chronologically order
                                                    else
                                                        div.row.text-lg
                                                            div
                                                                | No Description Available
                                                else
                                                    if (full_title_post)
                                                        div.row.text-lg
                                                            div
                                                                | #{full_title_post}
                                                    if (folderInfo)
                                                        div.row
                                                            div.pr-2
                                                                | Folder Path:
                                                            div
                                                                span#folderPath #{folderInfo}
                                                    if (description)
                                                        div.row
                                                            div.pr-2
                                                                | Description:
                                                            div
                                                                | #{description}
                                                    if (params && params.has('album'))
                                                        - const albumID = params.getAll('album')[0];
                                                        div.row
                                                            div.pr-2
                                                                | Album ID:
                                                            div
                                                                | #{albumID}
                                if (params && params.has('pins') && params.getAll('pins')[0] !== 'false' && params.getAll('pins')[0] !== 'true' && params.getAll('pins')[0] !== 'false')
                                    .alert.alert-time-transparent(role="alert")
                                        .row
                                            .col-auto.align-self-start.align-self-center
                                                .glyphicon
                                                    i.fas.fa-star.text-warning
                                            .align-self-start.align-self-center
                                                .text-warning Showing Favorites for user ID : #{params.getAll('pins')[0]}
                                if (params && params.has('history_numdays'))
                                    - const days = parseInt(params.getAll('history_numdays')[0]);
                                    .alert.alert-time-transparent(role="alert")
                                        .row
                                            .col-auto.align-self-start.align-self-center
                                                .glyphicon
                                                    i.fas.fa-history.text-warning
                                            .align-self-start.align-self-center
                                                .text-warning.d-none.d-sm-inline History from the last #{days} Days
                                                .text-warning.d-sm-none #{days} Days
                                            .align-self-center.align-self-start.ml-auto.mr-1
                                                a.text-warning.align-self-end.alert-btn(title="Remove Date Range" href='#_' onclick=`getNewContent(['offset', 'fav_numdays', 'history_numdays', 'numdays'], []); return false;`) Show All
                                if (params && params.has('fav_numdays'))
                                    - const days = parseInt(params.getAll('fav_numdays')[0]);
                                    .alert.alert-time-transparent(role="alert")
                                        .row
                                            .col-auto.align-self-start.align-self-center
                                                .glyphicon
                                                    i.fas.fa-history.text-warning
                                            .align-self-start.align-self-center
                                                .text-warning.d-none.d-sm-inline Favorites from the last #{days} Days
                                                .text-warning.d-sm-none #{days} Days
                                            .align-self-center.align-self-start.ml-auto.mr-1
                                                a.text-warning.align-self-end.alert-btn(title="Remove Date Range" href='#_' onclick=`getNewContent(['offset', 'fav_numdays', 'history_numdays', 'numdays'], []); return false;`) Show All
                                if (params && params.has('numdays'))
                                    - const days = parseInt(params.getAll('numdays')[0]);
                                    .alert.alert-time-transparent(role="alert")
                                        .row
                                            .col-auto.align-self-start.align-self-center
                                                .glyphicon
                                                    i.fas.fa-clock.text-warning
                                            .align-self-start.align-self-center
                                                .text-warning.d-none.d-sm-inline Results shown are from the last #{days} Days
                                                .text-warning.d-sm-none #{days} Days
                                            .align-self-center.align-self-start.ml-auto.mr-1
                                                a.text-warning.align-self-end.alert-btn(title="Remove Date Range" href='#_' onclick=`getNewContent(['offset', 'fav_numdays', 'history_numdays', 'numdays'], []); return false;`) Show All
                                else if (params && params.has('datestart'))
                                    - const datestart = params.getAll('datestart')[0]
                                    - const dateend = params.getAll('dateend')[0]
                                    .alert.alert-time-transparent(role="alert")
                                        .row
                                            .col-auto.align-self-start.align-self-center
                                                .glyphicon
                                                    i.fas.fa-clock.text-warning
                                            .align-self-start.align-self-center
                                                .text-warning.d-none.d-sm-inline Results shown are from #{datestart} to #{dateend}
                                                .text-warning.d-sm-none #{datestart} - #{dateend}
                                            .align-self-center.align-self-start.ml-auto.mr-1
                                                a.text-warning.align-self-end.alert-btn(title="Remove Date Range" href='#_' onclick=`getNewContent(['offset', 'fav_numdays', 'history_numdays', 'numdays', 'datestart', 'dateend'], []); return false;`) Show All
                                if (params.has('minres') || params.has('minhres') || params.has('minwres'))
                                    .alert.alert-time-transparent(role="alert")
                                        .row
                                            .col-auto.align-self-start.align-self-center
                                                .glyphicon
                                                    i.fas.text-warning.fa-ruler-combined
                                            .align-self-start.align-self-center
                                                if (params.has('minres'))
                                                    .text-warning.d-none.d-sm-inline Minimum Loose Resolution of #{params.getAll('minres')[0]}px
                                                    .text-warning.d-sm-none Min Res: #{params.getAll('minres')[0]}px
                                                else if (params.has('minhres'))
                                                    .text-warning.d-none.d-sm-inline Minimum Vertical Resolution of #{params.getAll('minhres')[0]}px
                                                    .text-warning.d-sm-none Min Vert: #{params.getAll('minhres')[0]}px
                                                else if (params.has('minwres'))
                                                    .text-warning.d-none.d-sm-inline Minimum Horizontal Resolution of #{params.getAll('minwres')[0]}px
                                                    .text-warning.d-sm-none Min Horiz: #{params.getAll('minwres')[0]}px
                                            .align-self-center.align-self-start.ml-auto.mr-1
                                                a.text-warning.align-self-end.alert-btn(title="Remove Minimum Pixel Range" href='#_' onclick=`getNewContent(['offset', 'minres', 'minhres', 'minwres'], []); return false;`) Show All
                                if (params.has('ratio'))
                                    .alert.alert-time-transparent(role="alert")
                                        .row
                                            .col-auto.align-self-start.align-self-center
                                                .glyphicon
                                                    i.fas.text-warning.fa-ruler-combined
                                            .align-self-start.align-self-center
                                                - ratio = params.getAll('ratio')[0]
                                                if (ratio !== '0.01-1')
                                                    .text-warning Landscape Images
                                                else if (ratio === '0.85-2.1')
                                                    .text-warning Portrait Images
                                                else if (ratio === '1.1-2.1')
                                                    .text-warning Strictly Portrait Images
                                                else if (ratio === '0.01-0.9')
                                                    .text-warning Strictly Landscape Images
                                                else
                                                    .text-warning Custom Aspect Ratio Range: #{params.getAll('ratio')[0]}
                                            .align-self-center.align-self-start.ml-auto.mr-1
                                                a.text-warning.align-self-end.alert-btn(title="Remove Ratio Range" href='#_' onclick=`getNewContent(['offset', 'ratio'], []); return false;`) Show All
                                if (params.has('dark'))
                                    .alert.alert-time-transparent(role="alert")
                                        .row
                                            .col-auto.align-self-start.align-self-center
                                                .glyphicon
                                                    i.fas.text-warning.fa-adjust
                                            .align-self-start.align-self-center
                                                if (params.getAll('dark')[0] === 'false')
                                                    .text-warning Light Images
                                                else if (params.getAll('dark')[0] === 'true')
                                                    .text-warning Dark Images
                                            .align-self-center.align-self-start.ml-auto.mr-1
                                                a.text-warning.align-self-end.alert-btn(title="Remove Brightness Filter" href='#_' onclick=`getNewContent(['offset', 'dark'], []); return false;`) Show All
                                if (params.has('color'))
                                    .alert.alert-time-transparent.text-warning(role="alert")
                                        .row
                                            .col-auto.align-self-start.align-self-center
                                                .glyphicon
                                                    i.fas.fa-swatchbook
                                            .align-self-start.align-self-center
                                                if (simularColor)
                                                    .d-inline-flex
                                                        span.align-self-center.d-none.d-sm-inline Similar Colour
                                                        div.ml-1.color-preview.align-self-center(style=`background-color: ${simularColor}`)
                                                        a.text-warning.align-self-center.alert-btn.ml-2(title="Advanced" href='#_' type='button' data-toggle='collapse' data-target='#advancedColorOptions') Advanced
                                                else
                                                    .d-none.d-sm-inline Colour Range: R=#{sliderColorsDefaults[0]} G=#{sliderColorsDefaults[1]} B=#{sliderColorsDefaults[2]}
                                                    .d-sm-none Custom Colour Range
                                            .align-self-center.align-self-start.ml-auto.mr-1
                                                a.text-warning.align-self-end.alert-btn(title="Remove Colour Filter" href='#_' onclick=`getNewContent(['offset', 'color'], []); return false;`) Show All
                                        if (simularColor)
                                            #advancedColorOptions.collapse.mt-2
                                                .row.ml-auto.mr-auto
                                                    .align-self-center
                                                        span.mr-2 Step:
                                                        a.text-warning.align-self-end.alert-btn(title="Step Range 8" href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:8']]); return false;`).mr-1 8
                                                        a.text-warning.align-self-end.alert-btn(title="Step Range 16" href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:16']]); return false;`).mr-1 16
                                                        a.text-warning.align-self-end.alert-btn(title="Step Range 24" href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:24']]); return false;`).mr-1 24
                                                        a.text-warning.align-self-end.alert-btn(title="Step Range 32" href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:32']]); return false;`).mr-1 32
                                                        a.text-warning.align-self-end.alert-btn(title="Step Range 48" href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:48']]); return false;`).mr-1 48
                                                        a.text-warning.align-self-end.alert-btn(title="Step Range 64" href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:64']]); return false;`).mr-1 64
                                                    div.d-inline.mt-sm-0.mt-1
                                                        span.d-none.d-sm-inline.mr-2 Emphasis:
                                                        a.align-self-end.alert-btn(href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:${colorStep}:0']]); return false;` style='background-color: red; border-color: #770e0eab; color: #770000;').mr-1
                                                            i.fas.fa-eye-dropper
                                                        a.align-self-end.alert-btn(href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:${colorStep}:1']]); return false;` style='background-color: rgb(255 128 0); border-color: #77360eab; color: #773700;').mr-1
                                                            i.fas.fa-eye-dropper
                                                        a.align-self-end.alert-btn(href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:${colorStep}:2']]); return false;` style='background-color: rgb(255 255 0); border-color: #775c0eab; color: #776300;').mr-1
                                                            i.fas.fa-eye-dropper
                                                        a.align-self-end.alert-btn(href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:${colorStep}:3']]); return false;` style='background-color: rgb(0 255 0); border-color: #27770eab; color: #447700;').mr-1
                                                            i.fas.fa-eye-dropper
                                                        a.align-self-end.alert-btn(href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:${colorStep}:4']]); return false;` style='background-color: rgb(128 255 128); border-color: #27770eab; color: #447700;').mr-1
                                                            i.fas.fa-eye-dropper
                                                    div.d-inline.mt-sm-0.mt-1
                                                        a.align-self-end.alert-btn(href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:${colorStep}:5']]); return false;` style='background-color: rgb(14 210 206); border-color: #0d5246ab; color: #007b65;').mr-1
                                                            i.fas.fa-eye-dropper
                                                        a.align-self-end.alert-btn(href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:${colorStep}:6']]); return false;` style='background-color: rgb(0 142 255); border-color: #0e4b77ab; color: #004b77;').mr-1
                                                            i.fas.fa-eye-dropper
                                                        a.align-self-end.alert-btn(href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:${colorStep}:7']]); return false;` style='background-color: rgb(0 60 255); border-color: #5662ffdb; color: #597dff;').mr-1
                                                            i.fas.fa-eye-dropper
                                                        a.align-self-end.alert-btn(href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:${colorStep}:8']]); return false;` style='background-color: rgb(128 0 255); border-color: #4b0e77ab; color: #440077;').mr-1
                                                            i.fas.fa-eye-dropper
                                                        a.align-self-end.alert-btn(href='#_' onclick=`getNewContent(['offset'], [['color', '${simularColorCommand}:${colorStep}:9']]); return false;` style='background-color: rgb(255 0 255); border-color: #790048db; color: #880a8a;').mr-1
                                                            i.fas.fa-eye-dropper
                                if (nsfwEnabled || (params && params.getAll('nsfw')[0] === 'true'))
                                    .alert.alert-danger-transparent(role="alert")
                                        .row
                                            .col-auto.align-self-start.align-self-center
                                                .glyphicon
                                                    i.fas.fa-exclamation-triangle.text-danger
                                            if (nsfwEnabled)
                                                .align-self-start.align-self-center
                                                    .text-danger NSFW Content is Enabled
                                                .align-self-center.align-self-start.ml-auto.mr-1
                                                    a.text-danger.align-self-end.alert-btn(title="Disable NSFW Results" href='#_' onclick=`getNewContent(['offset', 'nsfw'], [['nsfwEnable', 'false']]); return false;`) Disable
                                            else
                                                .align-self-start.align-self-center
                                                    .text-danger NSFW Results are included
                                                .align-self-center.align-self-start.ml-auto.mr-1
                                                    a.text-danger.align-self-end.alert-btn(title="Remove NSFW Results" href='#_' onclick=`getNewContent(['offset', 'nsfw'], []); return false;`) Remove
                        if (!mastercount)
                            div.row
                                h2.d-md-none.page-title.page-title-inpage.text-ellipsis.col.text-primary.pr-0
                                    .only-standalone-block
                                        a.page-title.page-title-inpage.btn.btn-small.pl-0.d-none.d-md-inline-block(title="Go Back"  id="sidebarBackTop" href='#_' onClick="history.go(-1); return false;")
                                            i.fas.fa-chevron-left
                                    div#innerAddressBarInfo(onclick=`showAddressInput(); return false;`).d-inline
                                        if (!title || title === '')
                                            if (params && (params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))))
                                                if (results && results.length === 1 && path ==='/gallery' && params && params.has('search'))
                                                    i.fas.fa-photo-video.mr-2
                                                    span.text-uppercase Item Details
                                                else if (search_prev)
                                                    if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                        i.fas.fa-star.mr-2
                                                    else if (search_prev && search_prev.startsWith('id:st'))
                                                        i.fas.mr-2.fa-asterisk
                                                    else
                                                        i.fas.fa-search.mr-2
                                                    if (params && path === '/artists')
                                                        span.text-uppercase Artist Search
                                                    else if (params && search_prev.startsWith('id:st'))
                                                        span.text-uppercase Related Items
                                                    else
                                                        span.text-uppercase Search
                                                else if (params && path === '/artists')
                                                    i.fas.fa-atlas.mr-2
                                                    span(title='Global Artist Search').text-uppercase Artists
                                                else if (params && params.getAll('sort')[0] === 'random')
                                                    if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                        i.fas.fa-star.mr-2
                                                    else
                                                        i.fas.fa-dice.mr-2
                                                    span(title='Random selection of items from the database').text-uppercase I'm Feeling Lucky
                                                else if (params && params.getAll('sort')[0] === 'fav')
                                                    if (webconfig && webconfig.pinned_user && params && params.getAll('pins')[0] === webconfig.pinned_user)
                                                        i.fas.fa-thumbtack.mr-2
                                                        span(title='Favorited Images by the moderation team').text-uppercase Pinned
                                                    else
                                                        i.fas.fa-star.mr-2
                                                        span(title='Favorited Images').text-uppercase Favorites
                                                else if (params && (params.getAll('sort')[0] === 'id' || params.getAll('sort')[0] === 'eid'))
                                                    if (webconfig && webconfig.pinned_user && params && params.getAll('pins')[0] === webconfig.pinned_user)
                                                        i.fas.fa-thumbtack.mr-2
                                                        span(title='Favorited Images by the moderation team').text-uppercase Pinned
                                                    else if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                        i.fas.fa-star.mr-2
                                                        span(title='Favorited Images').text-uppercase Favorites
                                                    else
                                                        i.fas.fa-stream.mr-2
                                                        if (path === '/files')
                                                            span(title='Files in order of upload').text-uppercase File Stream
                                                        else
                                                            span(title='Images in order of upload').text-uppercase Photo Stream
                                                else if (params.has('color'))
                                                    if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                        i.fas.fa-star.mr-2
                                                    else
                                                        i.fas.mr-2.fa-swatchbook
                                                    span(title='Images by there averaged colour').text-uppercase Colour search
                                                else if (params.has('displayname'))
                                                    if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                        i.fas.fa-star.mr-2
                                                    else
                                                        i.fas.mr-2.fa-history
                                                    span(title='History for ' + params.getAll('displayname')[0]).text-uppercase History
                                                else
                                                    if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                        i.fas.fa-star.mr-2
                                                    else
                                                        i.fas.fa-clock.mr-2
                                                    span(title='Chronologically Feed of Images').text-uppercase Recent
                                            else if (params && params.has('pins') && params.getAll('pins')[0] !== 'false')
                                                i.fas.fa-star.mr-2
                                                span.text-uppercase #{full_title_post}
                                            else if (params && (path === '/gallery' || path === '/files' || path === '/cards'))
                                                i.fas.fa-question.mr-2
                                                span No Results
                                        else
                                            if (search_prev && search_prev.startsWith('id:st'))
                                                i.fas.mr-2.fa-asterisk
                                            else if (search_prev)
                                                i.fas.fa-search.mr-2
                                            else if (params && path === '/artists')
                                                i.fas.fa-atlas.mr-2
                                            else if (params && (params.getAll('history')[0] === 'only' || params.has('displayname')))
                                                i.fas.fa-history.mr-2
                                            else if (params && params.getAll('sort')[0] === 'random')
                                                i.fas.fa-dice.mr-2
                                            else if (active_icon)
                                                i.fas.mr-2(class=active_icon)
                                            else if (params && path === '/gallery')
                                                i.fas.fa-images.mr-2
                                            else if (params && path === '/files')
                                                i.fas.fa-folder.mr-2
                                            else if (params && path === '/cards')
                                                i.fas.fa-envelope.mr-2
                                            span.text-uppercase #{full_title_post}
                                    div#innerAddressBarInput.d-inline-block.hidden
                                        form.align-self-center.navbar-search(onsubmit="return false;" method="post" )
                                            .input-group
                                                .input-group-prepend
                                                    a.btn.input-group-text.bg-transparent.border-0.pl-0.pt-0.pb-0(onclick=`hideAddressInput(); return false;`)
                                                        i.fas.fa-map.align-middle.nav-item
                                                input#directURIInner.text-white.form-control.bg-translucent.border-0.small.w-50.rounded-left.pt-0.pb-0.rounded-right(type='text' placeholder='Go to Location' aria-label='Go to Location' style='height: auto;')
                                                input(type="submit" style="display: none" onclick=`getNewURIContent("directURIInner"); return false;`)
                                                .input-group-append
                                                    a.btn.input-group-text.bg-transparent.border-0.pt-0.pb-0(title="Go to..." href='#_', onclick=`getNewURIContent("directURIInner"); return false;`)
                                                        i.fas.fa-arrow-right.fa-sm.align-middle.nav-item
                                if (results && params && !(results.length === 1 && path === '/gallery' && search_prev && search_prev !== ''))
                                    h2.d-md-none.page-title.text-primary.mr-1
                                        a(data-toggle='collapse' href='#_' role='button' aria-expanded='false' data-target='#showResultsWarningsFull')
                                            span.badge.push-up.p-1(class=`badge-${(nsfwEnabled || (params && params.getAll('nsfw')[0] === 'true')) ? 'danger' : 'primary'}`)
                                                i.fas.pl-1.pr-1.fa-info
                        #contentBlock
                            block content
                        #pageinator
                #finalLoad
                    #pageNav.btn-group.d-block.page-navigator(style='position: fixed; right: 24px; bottom: 24px; z-index: 500;')
                        // Next Page Button
                        if (params && ((((params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))) && params.getAll('sort')[0] === 'random') || params.getAll('sort')[0] === 'random') && !search_prev))
                            a.bottomBtn.btn.btn-lg.btn-circle.red(title="Go Back" href='#_' role='button' accesskey="," onClick="history.go(-1); return false;")
                                i.fas.fa-arrow-left
                            a#nextPage.bottomBtn.btn.btn-lg.btn-circle.red(title="Reload Page" href='#_' onClick="getNewContent([],[]); return false;")
                                if (params && params.getAll('sort')[0] === 'random')
                                    i.fa.fa-dice
                                else
                                    i.fa.fa-sync
                        else if ((typeof (prevurl) !== 'undefined' && prevurl !== 'NA') || (typeof (nexturl) !== 'undefined' && nexturl !== 'NA'))
                            if (prevurl !== 'NA')
                                a.bottomBtn.btn.btn-lg.btn-circle.red(title="Go Back" href='#_' role='button' accesskey="," onClick="history.go(-1); return false;")
                                    i.fa.fa-chevron-left
                                    i.fa.fa-arrow-left
                                a#prevPage.bottomBtn.btn.btn-lg.btn-circle.red(title="Previous Page" href='#_' onclick=`getNewContent([], [${prevurl}]); return false;`)
                                    i.fa.fa-arrow-left
                            else
                                a.bottomBtn.btn.btn-lg.btn-circle.red(title="Go Back" href='#_' role='button' accesskey="," onClick="history.go(-1); return false;")
                                    i.fas.fa-arrow-left
                            a#refreshPage.bottomBtn.btn.btn-lg.btn-circle.red(title="Refresh Page" href='#_' onClick=`getNewContent([], []); return false;`)
                                i.fa.fa-sync
                            if (nexturl !== 'NA')
                                a#nextPage.bottomBtn.btn.btn-lg.btn-circle.red(title="Next Page" href='#_' onclick=`getNewContent([], [${nexturl}]); return false;`)
                                    i.fa.fa-arrow-right
                        else
                            a.bottomBtn.btn.btn-lg.btn-circle.red(title="Go Back" href='#_' role='button' accesskey="," onClick="history.go(-1); return false;")
                                i.fas.fa-arrow-left
                            a#refreshPage.bottomBtn.btn.btn-lg.btn-circle.red(title="Refresh Page" href='#_' onClick="getNewContent([], []); return false;")
                                i.fa.fa-sync
                        // On Load Scripts
                    script(type='text/javascript' src="/js/client/onload.min.js")
                    // Enable Gallery
                    if (path === '/gallery')
                        script.
                            toggleLightbox = false; $("[data-fancybox]").fancybox(options);
                    // Gallery Custom Buttons
                    //script.
                        $.fancybox.defaults.btnTpl.downloadios = '<button data-fancybox-downloadios class="fancybox-button fancybox-button-downloadios" title="Download Image">' +
                            '<i class="fas fa-download">' +
                            '</button>';
                        $('body').on('click', '[data-fancybox-downloadios]', function (e) {
                            const src = $.fancybox.getInstance().current.src;
                            const idx = $.fancybox.getInstance().current.opts.$orig;
                            $('#downloadModel').modal('show');
                            $('#downloadContainer')[0].src = src.replace('https:', 'http:')
                        });
                    // Sidebar Selector
                    if (params && path === '/artists')
                        script.
                            function setSidebar() {
                                setAccordion("globalTags", "allArtists")
                            }; setSidebar();
                    else if (params && params.has('search'))
                        script.
                            function setSidebar() {
                                setAccordion("searchPosts", null)
                            }; setSidebar();
                    else if (params && params.has('displayname'))
                        script.
                            function setSidebar() {
                                setAccordion("historyPosts", null)
                            }; setSidebar();
                    else if (params && (params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))) && !(params.getAll('sort')[0] === 'random' || params.getAll('sort')[0] === 'id' || params.getAll('sort')[0] === 'eid' || params.getAll('sort')[0] === 'fav'))
                        if (params.has('color'))
                            script.
                                function setSidebar() {
                                    setAccordion("searchPosts", null)
                                }; setSidebar();
                        else
                            script.
                                function setSidebar() {
                                    setAccordion("recentPosts", null)
                                }; setSidebar();
                    else if (params && (params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))) && params.getAll('sort')[0] === 'random')
                        if (params.has('color'))
                            script.
                                function setSidebar() {
                                    setAccordion("searchPosts", null)
                                }; setSidebar();
                        else
                            script.
                                function setSidebar() {
                                    setAccordion("randomPosts", null)
                                }; setSidebar();
                    else if (params && (params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))) && params.getAll('sort')[0] === 'fav')
                        if (webconfig && webconfig.pinned_user && params.getAll('pins')[0] === webconfig.pinned_user)
                            script.
                                function setSidebar() {
                                    setAccordion("globalTags", "pinnedKazari")
                                }; setSidebar();
                        else if (params.has('pins') && params.getAll('pins')[0] !== 'false')
                            script.
                                function setSidebar() {
                                    setAccordion("favoritePosts", null)
                                }; setSidebar();
                    else if (params && (params.getAll('channel')[0] === 'random' || !(params.has('channel') || params.has('folder') || params.has('album') || params.has('album_name'))) && (params.getAll('sort')[0] === 'id' || params.getAll('sort')[0] === 'eid'))
                        if (webconfig && webconfig.pinned_user && params.getAll('pins')[0] === webconfig.pinned_user)
                            script.
                                function setSidebar() {
                                    setAccordion("pinnedPosts", null)
                                }; setSidebar();
                        else if (params.has('pins') && params.getAll('pins')[0] !== 'false')
                            script.
                                function setSidebar() {
                                    setAccordion("favoritePosts", null)
                                }; setSidebar();
                        else if (path === '/files')
                            script.
                                function setSidebar() {
                                    setAccordion("streamFiles")
                                }; setSidebar();
                        else
                            script.
                                function setSidebar() {
                                    setAccordion("streamPictures")
                                }; setSidebar();
                    else if (!params && !title)
                        script.
                            function setSidebar() {
                                setAccordion("searchPosts", null)
                            }; setSidebar();
                    else if (params && params.has('album'))
                        - const albumID = params.getAll('album')[0]
                        script.
                            function setSidebar() {
                                setAccordion("albums", #{"'album-item-" + albumID + "'"})
                            }; setSidebar();
                    else if (params && params.has('title') && active_pt)
                        script.
                            function setSidebar() {
                                setAccordion(#{"'" + active_pt.toLowerCase() + "'"}, #{"'all-" + active_pt.toLowerCase() + "'"})
                            }; setSidebar();
                    else if (active_pt && active_ch)
                        script.
                            function setSidebar() {
                                setAccordion(#{"'" + active_pt.toLowerCase() + "'"}, #{"'" + active_ch + "'"})
                            }; setSidebar();
                    else if (active_pt)
                        script.
                            function setSidebar() {
                                setAccordion(#{"'" + active_pt.toLowerCase() + "'"}, #{"'all-" + active_pt.toLowerCase() + "'"})
                            }; setSidebar();
                    // Music Player Enabler
                    script(type='text/javascript' src="/js/client/media-enabler.min.js")
                footer.sticky-footer.bg-transparent
                    .container.my-auto
                        .copyright.text-center.my-auto
                            div.mb-2.hide-1700
                                span.sidebar-brand-logo.sequenzia-logo(class=showlogo1 style='font-size: 2.8em;') sequenzia
                            div
                                strong The Kanmi x Sequenzia II Project
                            div
                                span Copyright &copy; #{webconf.company_name} #{moment(Date.now()).format('YYYY')}
                        .server-grid-container.text-center.mt-3.hide-1700
                            .server-grid.d-inline-block
                                .server-grid-parent(style=`grid-template-columns: repeat(${discord.servers.list.slice(0, 8).length}, minmax(45px, 40px));`)
                                    for thisServer, thisServerIndex in discord.servers.list.slice(0,8)
                                        .server-grid-child(style=`z-index: ${8 - thisServerIndex}`)
                                            img.server-icon.rounded-circle(title=`${thisServer.name}\n(${(thisServer.login === 1) ? 'Login Server' : 'Storage'})` src=thisServer.icon id=`server-${thisServer.serverid}`)
                #downloadAll.modal.fade(tabindex='-1' role='dialog' aria-hidden='true')
                    .modal-dialog(role='document')
                        .modal-content
                            .modal-header
                                h5.modal-title
                                    span Downloader
                                button.close.text-white(type='button' data-dismiss='modal' aria-label='Close')
                                    span(aria-hidden='true') &times;
                            .modal-body
                                div.row.pl-3.pr-3
                                    h4#downloadProgText.small.font-weight-bold Ready
                                div.row.pl-3.pr-3
                                    div.col.pl-1
                                        .progress(style="height: 30px;")
                                            #downloadProgressBar.progress-bar.progress-bar-striped.progress-bar-animated.bg-success(role='progressbar' style='width: 0%' aria-valuenow='0' aria-valuemin='0' aria-valuemax='100')
                                    div
                                        a#downloadStartButton.btn.btn-success(title="Start Downloading all items on this page" href='#_' onclick=`downloadAllItems(); return false;`, role='button')
                                            i.fas.pr-2.fa-download
                                            | Start
                                        a#downloadStopButton.btn.btn-danger.hidden(title="Stop current and pending downloads" href='#_' onclick=`downloadAllController.ready = false; downloadAllController.about.about(); return false;`, role='button')
                                            i.fas.pr-2.fa-ban
                                            | Cancel
                #feedModel.modal.fade(tabindex='-1' role='dialog' aria-hidden='true')
                    .modal-dialog(role='document')
                        .modal-content
                            .modal-header
                                h5.modal-title
                                    span External Feeds
                                button.close.text-white(type='button' data-dismiss='modal' aria-label='Close')
                                    span(aria-hidden='true') &times;
                            .modal-body
                                div.row.pl-3.pr-3
                                    div.pr-2
                                        | Only Accessible items will be returned!
                                if (params && path === '/files')
                                    div.row.pl-3.pr-3
                                        div.pr-2.d-flex
                                            span.align-self-center Media Podcast:
                                        div
                                            a.btn.btn-primary(title="iTunes Compatible Feed" href='#_' onclick=`feedContent('podcast'); return false;`, role='button')
                                                i.fas.pr-2.fa-podcast
                                                | Podcast
                                div.row.pl-3.pr-3.pt-2
                                    div.pr-2.d-flex
                                        span.align-self-center Content Feed:
                                    div
                                        a.btn.btn-primary(title="Atom Standard Feed" href='#_' onclick=`feedContent('atom'); return false;`, role='button').mr-2
                                            i.fas.fa-satellite-dish.pr-2
                                            | Atom
                                        a.btn.btn-primary(title="XML Standard Feed" href='#_' onclick=`feedContent('xml'); return false;`, role='button').mr-2
                                            i.fas.fa-satellite-dish.pr-2
                                            | XML
                                        a.btn.btn-primary(title="JSON Standard Feed" href='#_' onclick=`feedContent('json'); return false;`, role='button')
                                            i.fas.fa-satellite-dish.pr-2
                                            | JSON
                                #feedURLdiv.row.pl-3.pr-3.pt-2.d-none
                                    input#feedURLholder(type='text').form-control.form-text
                                #feedNoKeydiv.row.pl-3.pr-3.pt-2.d-none
                                    p.text-danger You currently do not have a static login token!
                                    p Go to the user menu > Authentication > Regenerate, Then refresh and try again.
                #appModal.modal.fade(tabindex='-1' role='dialog' aria-hidden='true')
                    .modal-dialog.modal-dialog-scrollable.modal-sm(role='document')
                        .modal-content
                            .modal-header
                                h5.modal-title
                                    span Setup Wallpaper Services
                                button.close.text-white(type='button' data-dismiss='modal' aria-label='Close')
                                    span(aria-hidden='true') &times;
                            .modal-body
                                div
                                    #iOSShortcutData.collapse
                                        .d-flex
                                            span.text-center Copy and Paste into 'Text' before Run Shortcut 'Sequenzia Wallpaper Services'
                                        .d-flex
                                            input#pageURIholder(type='text').form-control.form-text.w-100
                                    div.d-flex
                                        span.text-lg Both Wallpapers
                                    div.d-flex
                                        a.btn.btn-primary(href="seq://configure?setType=0&" + android_uri role='button' target="_blank" rel="noopener noreferrer").mr-1.w-100
                                            i.fas.fa-file-import.pr-2
                                            | Android
                                        a.btn.btn-primary(href='#_' role='button' onclick="generateShortcutURI('pageURIholder', 0); $('#iOSShortcutData').collapse('show'); return false;").ml-1.w-100
                                            i.fas.fa-file-import.pr-2
                                            | iOS/DWS
                                    div.d-flex
                                        span.text-lg Home Screen
                                    div.d-flex
                                        a.btn.btn-primary(href="seq://configure?setType=1&" + android_uri role='button' target="_blank" rel="noopener noreferrer").mr-1.w-100
                                            i.fas.fa-file-import.pr-2
                                            | Android
                                        a.btn.btn-primary(href='#_' role='button' onclick="generateShortcutURI('pageURIholder', 1); $('#iOSShortcutData').collapse('show'); return false;").ml-1.w-100
                                            i.fas.fa-file-import.pr-2
                                            | iOS/DWS
                                    div.d-flex
                                        span.text-lg Lock Screen
                                    div.d-flex
                                        a.btn.btn-primary(href="seq://configure?setType=2&" + android_uri role='button' target="_blank" rel="noopener noreferrer").mr-1.w-100
                                            i.fas.fa-file-import.pr-2
                                            | Android
                                        a.btn.btn-primary(href='#_' role='button' onclick="generateShortcutURI('pageURIholder', 2); $('#iOSShortcutData').collapse('show'); return false;").ml-1.w-100
                                            i.fas.fa-file-import.pr-2
                                            | iOS/DWS
                                div.row.pl-3.pr-3.pt-2
                                    span.align-self-center Don't have the app?
                                div.row.pl-3.pr-3.pt-2
                                    a.btn.btn-success(title="Android APK Download" href="/static/applications/ads-mobile-release.apk" role='button' target="_blank" rel="noopener noreferrer" download).mb-2.w-100
                                        i.fas.fa-download.pr-2
                                        | Android APK
                                div.row.pl-3.pr-3
                                    a.btn.btn-success(title="Desktop Service Setup" href="https://www.npmjs.com/package/sequenzia-ads-micro" role='button' target="_blank" rel="noopener noreferrer" download).mb-2.w-100
                                        i.fas.fa-download.pr-2
                                        | Desktop Setup
                                div.row.pl-3.pr-3
                                    a.btn.btn-info(data-toggle='collapse' href='#_' role='button' aria-expanded='false' data-target='#MacOSSetup').mb-2.w-100
                                        i.fas.fa-info-circle.pr-2
                                        | macOS Setup
                                div.row.pl-3.pr-3
                                    a.btn.btn-info(data-toggle='collapse' href='#_' role='button' aria-expanded='false' data-target='#iOSShortcutSetup').mb-2.w-100
                                        i.fas.fa-info-circle.pr-2
                                        | Apple Shortcut
                                #MacOSSetup.collapse
                                    div.row.pl-3.pr-3.pt-2
                                        a.btn.btn-success(href='https://apps.apple.com/us/app/plash/id1494023538?mt=12' role='button' target="_blank" rel="noopener noreferrer").mb-2.w-100
                                            i.fas.fa-download.pr-2
                                            | Plash (App Store)
                                    div.row.pl-3.pr-3.pt-2
                                        .col
                                            .row
                                                | 1. Install the "Plash" for macOS
                                            .row
                                                | 2. Click the menu bar icon
                                            .row
                                                | 3. Click "Add Website"
                                            .row
                                                | 4. Enter the ADS Lite URL with your displayname and other settings
                                            .row
                                                | 5. Set name to "Sequenzia ADS"
                                            .row
                                                | 6. Click "Add"
                                            .row
                                                | 7. Go to Settings and enable "Launch at Logon"
                                            .row
                                                | If text looks to large add this CSS rule (adjust as needed):
                                            .row
                                                | "body { font-size: 0.85rem!important; }"
                                #iOSShortcutSetup.collapse
                                    div.row.pl-3.pr-3.pt-2
                                        a.btn.btn-success(href='https://www.icloud.com/shortcuts/41b037c5fcb34954b4bd95fff833adce' role='button' target="_blank" rel="noopener noreferrer").mb-2.w-100
                                            i.fas.fa-download.pr-2
                                            | Apple Wallpaper Services
                                    div.row.pl-3.pr-3.pt-2
                                        .col
                                            .row
                                                | 1. Install the "Sequenzia Wallpaper Services" Shortcut from above
                                            .row
                                                | 2. Paste your Static Login Key
                                            .row
                                                | 3. In the automations tab, Click [+], Select "Personal Automation", and choose a type (Typically Time of day)
                                    div.row.pl-3.pr-3.pt-2
                                        .col
                                            .row
                                                img(src="/static/img/ios-shortcut-1.jpg").img-fluid
                                            .row
                                                | 4. Add Action from Search: "Text"
                                            .row
                                                | 5. Add Action from Search: "Run Shortcut"
                                            .row
                                                | 6. Select "Sequenzia Wallpaper Services"
                                            .row
                                                | 7. Expand Show More, Verify that the "Text" has automatically been filled
                                                span.text-info If you see "Choose Variable", tap it then 'Select Magic Variable", and Tap "Text" under the text block
                                            .row
                                                | 8. Copy the text from the "iOS" Button for the wallpaper
                                            .row
                                                | 9. Paste the text into the "Text" block
                                            .row
                                                | 10. Click Play to make sure it works
                                            .row
                                                img(src="/static/img/ios-shortcut-2.jpg").img-fluid
                                            .row
                                                | 11. Click Next
                                            .row
                                                | 12. Uncheck "Ask Before Running" and Accept the warning
                                            .row
                                                | 13. Click Done
                                            .row
                                                | 14. Reopen Automation, and Run the Shortcut and accept all privacy warnings
                                            .row
                                                img(src="/static/img/ios-shortcut-3.jpg").img-fluid
                                            .row
                                                | When your automation runs you will get a notification, the set wallpapers will appear in the Ambient Manager



        // OUTSUDE DYNAMIC CONTENT
